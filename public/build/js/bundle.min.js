function scrolnav(){document.querySelectorAll(".dashboard__menu a").forEach((function(e){if(e.classList.contains("dashboard__enlace--actual")){document.querySelector("."+e.firstElementChild.nextElementSibling.textContent).scrollIntoView({behavior:"smooth"})}}))}!function(){if(document.querySelector(".barraprogreso")){const e=document.querySelectorAll("#negocio"),t=document.querySelector(".barraprogreso__label"),a=document.querySelector(".barraprogreso__barra");let o=0;e.forEach(e=>{e.value&&o++}),a.classList.add("animation"),t.textContent=(100*o/11).toFixed(1)+"%";document.querySelector(".animation").style.width=t.textContent}if(document.querySelector(".cambiopaginas")){const e=document.querySelectorAll(".cambiopaginas span");e[0].classList.add("resaltar"),document.querySelector(".perfil")?document.querySelector(".pagina3").classList.add("mostrarseccion"):document.querySelector(".pagina1").classList.add("mostrarseccion"),e.forEach(t=>{t.addEventListener("click",t=>{t.target.classList.contains("resaltar")||(e.forEach(e=>e.classList.remove("resaltar")),t.target.classList.add("resaltar"));document.querySelectorAll(".paginas").forEach(e=>e.classList.remove("mostrarseccion")),document.querySelector("."+t.target.id).classList.add("mostrarseccion")})})}document.querySelectorAll(".dia input[type=checkbox]").forEach(e=>{e.addEventListener("change",(function(e){if(this.checked)for(let t=0;t<4;t++)e.target.parentElement.nextElementSibling.children[t].disabled=!1;else for(let t=0;t<4;t++)e.target.parentElement.nextElementSibling.children[t].disabled=!0}))});document.querySelectorAll("#entrada").forEach(e=>{e.addEventListener("change",e=>{!function e(t,a){for(;t.firstChild;)t.removeChild(t.firstChild);let o=a.target.value.split(":"),n=parseInt(o[0]+o[1]);for(let e=0;n<2300;e++){let e=document.createElement("OPTION");n+=30,n%100==60&&(n+=40),e.value=n,o[0]=parseInt(n/100),o[1]=n%100,0===o[1]&&(o[1]="00"),e.textContent=o[0]+":"+o[1],t.appendChild(e)}t.addEventListener("change",t=>{let a=t.target.nextElementSibling;a&&e(a,t)})}(e.target.nextElementSibling,e)})})}(),function(){if(document.querySelector(".calendario")){const s=document.querySelectorAll(".btncrearcita");let d,u,m,p,f,v,h,_=[],g=[],y=0,b=0,S=[],q=[];(async()=>{try{const[e,t,o,n,l,r]=await Promise.all([fetch("/admin/api/getservices"),fetch("/admin/api/gettimeservice"),fetch("/admin/api/allclientes"),fetch("/admin/api/malla"),fetch("/admin/api/getemployee_services"),fetch("/admin/api/getfechadesc")]);p=await e.json(),b=await t.json(),m=await o.json(),g=await n.json(),f=await l.json(),v=await r.json(),function(){const e=document.querySelector("#usuario");m.forEach(t=>{if(2!=t.id){const a=document.createElement("OPTION");a.value=t.id,a.textContent=t.nombre+" "+t.apellido,e.appendChild(a)}}),$("#usuario").select2({dropdownParent:$("#miDialogo"),width:"100%"})}(),function(){const e=document.querySelector("#servicios");p.forEach(t=>{const a=document.createElement("OPTION");a.value=t.id,a.textContent=t.nombre,e.appendChild(a)}),$("#servicios").select2({dropdownParent:$("#miDialogo"),width:"100%"}),$("#servicios").on("change",e=>a(e.target.value))}(),function(){const e=document.querySelector("#date"),t=new Date,a=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();let l=`${a}-${o}-${n}`;o<10&&(l=`${a}-0${o}-${n}`);o<10&&n<10&&(l=`${a}-0${o}-0${n}`);o>=10&&n<10&&(l=`${a}-${o}-0${n}`);e.min=l}()}catch(e){console.log(e)}})(),(async()=>{try{const a="/admin/api/getallcitas",o=await fetch(a);d=await o.json(),console.log(d),u=d.filter(e=>"Pendiente"==e.estado),t=document.getElementById("calendar"),new FullCalendar.Calendar(t,{theme:!0,initialView:"dayGridMonth",locale:"es",events:u,dateClick:t=>{e(t.dateStr)}}).render()}catch(e){console.log(e)}var t})();function e(e){_.length||(_=u),document.querySelector(".fechaformateada").dataset.fecha=e;const t=new Date(e+"T00:00:00-05:00");document.querySelector(".diasemana").textContent=t.toLocaleDateString("es-ES",{weekday:"long"}),document.querySelector(".dia").textContent=t.toLocaleDateString("es-ES",{day:"numeric"}),document.querySelector(".mesaño").textContent=t.toLocaleDateString("es-ES",{month:"long"})+" "+t.toLocaleDateString("es-ES",{year:"numeric"}),i(document.querySelector(".citas__lista"));_.filter(t=>t.start===e).forEach(e=>{const t=document.createElement("LI");t.classList.add("listacita");const a=document.createElement("DIV");a.classList.add("listacita-content");const o=document.createElement("DIV");o.classList.add("col1");const n=document.createElement("DIV");n.classList.add("col2");const l=document.createElement("P");l.classList.add("nombrecliente"),l.textContent=e.nombrecliente;const r=document.createElement("P");r.classList.add("fecha"),r.textContent=e.start;const i=document.createElement("P");i.classList.add("servicio"),i.textContent=e.nameservicio;const c=document.createElement("P");c.classList.add("estadocita","Pendiente"==e.estado?"citapendiente":"citafinalizada"),c.textContent=e.estado;const s=document.createElement("P");s.classList.add("hora");const d=new Date("2000-01-01T"+e.hora_fin).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});s.textContent=d;const u=document.createElement("I");u.classList.add("fa-solid","fa-clock"),u.id="reprogramar",u.dataset.id=e.id,o.appendChild(l),o.appendChild(r),o.appendChild(i),n.appendChild(c),n.appendChild(s),n.appendChild(u),a.appendChild(o),a.appendChild(n),t.appendChild(a),document.querySelector(".citas__lista").appendChild(t)}),r()}document.querySelectorAll('.citas__ctrlsfiltros input[type="radio"]').forEach(t=>{t.addEventListener("input",t=>{var a;a=t.target.value,_="Todas"==a?d:d.filter(e=>e.estado==a),e(document.querySelector(".fechaformateada").dataset.fecha)})});const E=document.getElementById("miDialogo");function t(e){e.target!==E&&"cancelar"!==e.target.value||(E.close(),document.removeEventListener("click",t))}s.forEach(e=>e.addEventListener("click",e=>{e.preventDefault(),E.showModal(),"crearcita"===e.target.id?(document.querySelector("#cliente1").classList.remove("ocultar"),document.querySelector("#cliente2").classList.add("ocultar"),document.querySelector("#nombrecliente").removeAttribute("required"),document.querySelector("#usuario").required=!0,document.querySelector("#nousuario").setAttribute("disabled",!0),c()):(document.querySelector("#cliente1").classList.add("ocultar"),document.querySelector("#cliente2").classList.remove("ocultar"),document.querySelector("#usuario").removeAttribute("required"),document.querySelector("#nombrecliente").required=!0,document.querySelector("#nombrecliente").readOnly=!1,document.querySelector("#nousuario").removeAttribute("disabled"),c()),document.addEventListener("click",t)}));const C=document.querySelector("#date");function a(e){!function(e){const t=document.querySelector(".campovalor");p.forEach(a=>{a.id===e&&(null===a.precio?(t.style="display: flex",document.querySelector("#valorpersonalizado").required=!0,document.querySelector("#tipocita").value=0):(t.style="display: none",document.querySelector("#valorpersonalizado").required=!1,document.querySelector("#tipocita").value=1))})}(e);const t=f.reduce((t,a)=>(a.idservicio==e&&(t=[...t,a.idempleado]),t),[]),a=v.filter(e=>e.fecha===C.value&&t.includes(e.empleado_id)).map(e=>e.empleado_id),o=new Date(C.value).getUTCDay();h=g.filter(e=>t.includes(e.id_empleado)&&e.id_dia==o&&!a.includes(e.id_empleado)),function(){const e=document.querySelector("#professionals");i(e);const t=document.createElement("OPTION");t.value="",t.textContent=" -Selecionar- ",t.selected=!0,t.disabled=!0,e.appendChild(t),h.forEach(t=>{const a=document.createElement("OPTION");a.value=t.id_empleado,a.textContent=f.find(e=>e.idempleado===t.id_empleado).nombre,e.appendChild(a)})}();const n=document.querySelector("#professionals");if(t.includes(y))for(let e=1;e<n.options.length;e++)n.options[e].value===y&&(n.options[e].selected=!0);else i(document.querySelector("#horas")),y=0}function o(e){const t=C.value;let a=[e.inicioturno,e.inidescanso,e.findescanso,e.finturno];a=a.map(e=>e.substring(0,2)+":"+e.substring(2,4)),q=u.filter(a=>a.idempleado===e.id_empleado&&a.start===t).map(e=>e.hora_fin),n(a[0],a[1]),n(a[2],a[3]),function(){const e=document.querySelector("#horas");e.classList.remove("dianodisponible-js"),S.forEach(t=>{const a=document.createElement("DIV");a.classList.add("citas__hora");const o=document.createElement("P");o.textContent=t.horaformat12,o.dataset.hora24=t.horaformat24,o.onclick=l,o.classList.add("texthora"),a.appendChild(o),e.appendChild(a)})}()}function n(e,t){const a=new Date("01/01/2000 "+e),o=new Date("01/01/2000 "+t);for(o.setTime(o.getTime()-80*b/100*6e4);a<=o;){const e=a.getHours().toString().padStart(2,"0"),t=a.getMinutes().toString().padStart(2,"0");if(!q.includes(`${e}:${t}:00`)){const a=new Date(`2000-01-01T${e}:${t}`).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});S=[...S,{horaformat12:a,horaformat24:`${e}:${t}:00`}]}a.setTime(a.getTime()+6e4*b)}}function l(e){const t=document.querySelector(".horaselect");t&&t.classList.remove("horaselect"),e.target.parentElement.classList.add("horaselect"),document.querySelector("#hora_fin").value=e.target.dataset.hora24}function r(){document.querySelectorAll("#reprogramar").forEach(e=>e.addEventListener("click",e=>{const a=u.find(t=>t.id===e.target.dataset.id);a&&(E.showModal(),document.addEventListener("click",t),document.querySelector("#cliente1").classList.add("ocultar"),document.querySelector("#cliente2").classList.remove("ocultar"),function(e){const t=document.querySelector("#professionals");document.querySelector("#nombrecliente").value=e.nombrecliente,document.querySelector("#nombrecliente").readOnly=!0,document.querySelector("#valorpersonalizado").value=e.valorcita,document.querySelector("#date").value=e.start,$("#servicios").val(e.idservicio).trigger("change");for(let a=1;a<t.options.length;a++)t.options[a].value===e.idempleado&&(t.options[a].selected=!0,document.querySelector("#id_empserv").value=e.id);const a=h.find(t=>t.id_empleado===e.idempleado);a&&o(a);document.querySelector("#horas").insertAdjacentHTML("afterbegin",`<div class="citas__hora horaselected"><p class="texthora">${e.hora_fin}</p></div>`)}(a))}))}function i(e){for(S=[];e.firstElementChild;)e.removeChild(e.firstElementChild)}function c(){document.querySelector("#formcrearcitas").reset(),$("#servicios").val(0).trigger("change")}C.addEventListener("input",e=>{i(document.querySelector("#horas")),y=0;new Date(e.target.value);a(document.querySelector("#servicios").value)}),document.querySelector("#professionals").addEventListener("change",e=>{y=e.target.value,i(document.querySelector("#horas")),o(h.find(t=>t.id_empleado===e.target.value))}),r()}}(),function(){if(document.querySelector("#dashboardcitas")){const s=document.querySelector("#filtros-personalizado"),d=document.querySelector("#selectprofesional"),u=document.querySelector("#fecha"),m=document.querySelector("#crearcita"),p=document.querySelector("#crearcitanoreg"),f=document.querySelectorAll(".programar");s&&s.addEventListener("click",()=>{let e=d.options[d.options.selectedIndex].value;e&&Swal.fire({customClass:{},title:"Consulta el profesional por fecha:",html:`<form class="formulario" action="/admin/citas/consultaxprofesxfecha?pagina=1" method="POST">    \n                                    <div class="formulario__campo">\n                                        <input class="formulario__input" id="fecha" type="date" name="fecha" value=" " required>\n                                    </div>\n                                    <input type="hidden" name="profesional" value="${e}">\n                                    <input class="btnsmall" type="submit" value="Consultar">\n                            </form>`,showCancelButton:!1,showConfirmButton:!1})}),u.addEventListener("input",e=>{window.location="/admin/citas/filtroxfecha?pagina=1&fecha="+e.target.value});let v,h,_,g,y,b,S,q,E,C=0,w=[],x=[];function e(e,t,a,o,n){Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:e,html:`<form id="formcreareditarcita" class="formulario modalform" action="${a}" method="POST">\n                            <input type="hidden" id="id_empserv" name="id_empserv" value="" >\n                            <input type="hidden" id="hora_fin" name="hora_fin" value="" >\n                            <input type="hidden" id="tipocita" name="tipocita" value="0" >\n\n                            <div class="">\n                                ${o}\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="servicios">Seleccione Servicio: </label>\n                                    <select class="formulario__select" name="idservicio" id="servicios" required>\n                                        <option value="" disabled selected> -Selecionar- </option>\n                                    </select>\n                                </div>\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="descripcion">Descripcion: </label>\n                                    <textarea class="formulario__textarea" id="descripcion" name="descripcion" rows="4"></textarea>\n                                </div>\n                                ${n}\n                                \n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="date">Seleccionar Fecha:</label>\n                                    <input class="formulario__input" id="date" name="fecha_fin" type="date" disabled required>\n                                </div>\n\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="professionals">Seleccione Profesional: </label>\n                                    <select class="formulario__select" name="nameprofesional" id="professionals" required>\n                                        <option value="" disabled selected> -Selecionar- </option>\n                                    </select>\n                                </div>\n                            </div>\n                            \n                            <div class="cliente__campohoras" id="horas">\n\n                            </div>\n                            <input class="clientes-btn" type="submit" value="${t}">\n                       </form>`,showCancelButton:!0,showConfirmButton:!1,didOpen:()=>{$("#servicios").select2(),$("#usuario").select2()}})}function t(){const e=document.querySelector("#servicios");h.forEach(t=>{const a=document.createElement("OPTION");a.value=t.id,a.textContent=t.nombre,e.appendChild(a)}),e.addEventListener("change",e=>a(e.target.value))}function a(e){!function(e){const t=document.querySelector(".campovalor");h.forEach(a=>{a.id===e&&(null===a.precio?(t.style="display: flex",document.querySelector("#valorpersonalizado").required=!0,document.querySelector("#tipocita").value=0):(t.style="display: none",document.querySelector("#valorpersonalizado").required=!1,document.querySelector("#tipocita").value=1))})}(e);const t=document.querySelector("#professionals"),a=_.filter(t=>t.idservicio===e);i(t),document.querySelector("#date").disabled=!0,i(document.querySelector("#horas"));const o=document.createElement("OPTION");o.value="",o.textContent=" -Selecionar- ",o.selected=!0,o.disabled=!0,t.appendChild(o),a.forEach(e=>{const a=document.createElement("OPTION");a.value=e.idempleado,a.textContent=e.nombre,a.dataset.id=e.id,t.appendChild(a)}),t.addEventListener("change",e=>{document.querySelector("#date").disabled=!1,document.querySelector("#date").value="",function(){const e=document.querySelector("#date"),t=new Date,a=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();let l=`${a}-${o}-${n}`;o<10&&(l=`${a}-0${o}-${n}`);o<10&&n<10&&(l=`${a}-0${o}-0${n}`);o>=10&&n<10&&(l=`${a}-${o}-0${n}`);e.min=l}(),i(document.querySelector("#horas"))})}function o(){document.querySelector("#date").addEventListener("input",e=>{i(document.querySelector("#horas"));const t=new Date(e.target.value);n(e.target.value,t.getUTCDay())})}function n(e,t){const a=document.querySelector("#professionals"),o=a.options[a.options.selectedIndex].value;document.querySelector("#id_empserv").value=a.options[a.options.selectedIndex].dataset.id,q=y["empleado_"+o],S=g.filter(e=>o===e.empleado_id),E=b.filter(t=>t.idempleado===o&&t.fecha_fin===e&&"Pendiente"===t.estado),console.log(E);if(S.some(t=>t.fecha===e))c("Este dia no esta disponible!");else{const e=q.filter(e=>e.id_dia==(0===t?7:t));e.length?function(e){let t=[],a=[];t=[...t,e.inicioturno,e.inidescanso],a=[...a,e.findescanso,e.finturno],t=t.map(e=>e=e.substring(0,2)+":"+e.substring(2,4)),a=a.map(e=>e=e.substring(0,2)+":"+e.substring(2,4)),x=E.map(e=>e.hora_fin);for(let e=0;e<t.length-1;e++)l(t[e],t[e+1]);for(let e=0;e<a.length-1;e++)l(a[e],a[e+1]);console.log(w),document.querySelector('#formcreareditarcita input[type="submit"]').disabled=!1,function(){const e=document.querySelector("#horas");e.classList.remove("dianodisponible-js"),w.forEach(t=>{const a=document.createElement("DIV");a.classList.add("cliente__hora");const o=document.createElement("P");o.textContent=t.horaformat12,o.dataset.hora24=t.horaformat24,o.onclick=r,o.classList.add("texthora"),a.appendChild(o),e.appendChild(a)})}()}(e[0]):c("Este dia no esta disponible!")}}function l(e,t){const a=new Date("01/01/2000 "+e),o=new Date("01/01/2000 "+t);for(o.setTime(o.getTime()-80*C/100*6e4);a<=o;){const e=a.getHours().toString().padStart(2,"0"),t=a.getMinutes().toString().padStart(2,"0");if(!x.includes(`${e}:${t}`)){const a=new Date(`2000-01-01T${e}:${t}`).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});w=[...w,{horaformat12:a,horaformat24:`${e}:${t}`}]}a.setTime(a.getTime()+6e4*C)}}function r(e){const t=document.querySelector(".horaselect");t&&t.classList.remove("horaselect"),e.target.parentElement.classList.add("horaselect"),document.querySelector("#hora_fin").value=e.target.dataset.hora24}function i(e){for(w=[];e.firstElementChild;)e.removeChild(e.firstElementChild)}function c(e){document.querySelector('#formcreareditarcita input[type="submit"]').disabled=!0;const t=document.querySelector("#horas"),a=document.createElement("label");a.classList.add("formulario__label"),a.textContent=e,t.classList.add("dianodisponible-js"),t.appendChild(a)}(async()=>{try{const e="/admin/api/gettimeservice",t=await fetch(e);C=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/allclientes",t=await fetch(e);v=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getservices",t=await fetch(e);h=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getemployee_services",t=await fetch(e);_=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getfechadesc",t=await fetch(e);g=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getmalla",t=await fetch(e);y=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getcitas",t=await fetch(e);b=await t.json(),console.log(b)}catch(e){console.log(e)}})(),m.addEventListener("click",a=>{a.preventDefault();e("Crear Cita","Crear","/admin/citas/crear?pagina=1",'<div class="formulario__campo">\n                                <label class="formulario__label" for="usuario">Seleccione Usuario: </label>\n                                <select class="formulario__select" name="id_usuario" id="usuario" required>\n                                    <option value="" disabled selected> -Selecionar- </option>\n                                </select>\n                            </div>','<div class="formulario__campo campovalor" style="display: none;">\n                                    <label class="formulario__label" for="valorpersonalizado">Valor personalizado: </label>\n                                    <input class="formulario__input" type="number" id="valorpersonalizado" name="valorpersonalizado">\n                                </div>'),function(){const e=document.querySelector("#usuario");v.forEach(t=>{if(2!=t.id){const a=document.createElement("OPTION");a.value=t.id,a.textContent=t.nombre+" "+t.apellido,e.appendChild(a)}})}(),t(),o()}),f.forEach(l=>{l.addEventListener("click",l=>{const r=l.target.parentElement.parentElement.previousElementSibling.textContent;"Pendiente"!==r&&"Out"!==r||(e("Reprogramar Cita A:","Enviar","/admin/citas?pagina=1",'<span class="namecliente"></span><span id="horacita"></span>\n                                <input type="hidden" id="id" name="id" value="" >','<div class="formulario__campo campovalor">\n                                        <label class="formulario__label" for="valorpersonalizado">Valor personalizado: </label>\n                                        <input class="formulario__input" type="number" id="valorpersonalizado" name="valorpersonalizado">\n                                    </div>'),function(e){t();const l=e.parentElement.parentElement.parentElement,r=l.children[0].textContent,i=l.children[0].dataset.descripcion,c=l.children[1].textContent,s=l.children[2].textContent,d=l.children[3].textContent,u=l.children[4].textContent,m=l.children[5].textContent,p=document.querySelector(".namecliente"),f=document.querySelector("#servicios"),v=document.querySelector("#professionals"),h=document.querySelector("#date");p.textContent=c+" - ",document.querySelector("#horacita").textContent=m,document.querySelector("#id").value=r,document.querySelector("#hora_fin").value=m;for(let e=0;e<f.options.length;e++)f.options[e].textContent===s&&(f.options[e].selected=!0);document.querySelector("#descripcion").value=i;a(f.options[f.options.selectedIndex].value),document.querySelector("#valorpersonalizado").value=l.children[2].dataset.precio;for(let e=0;e<v.options.length;e++)v.options[e].textContent===d&&(v.options[e].selected=!0,document.querySelector("#id_empserv").value=v.options[e].dataset.id);h.value=u,o();const _=new Date(u);n(u,_.getUTCDay())}(l.target))})}),p.addEventListener("click",a=>{a.preventDefault();e("Cita Para Cliente No Registrado","Crear","/admin/citas/crear?pagina=1",'<div class="formulario__campo">\n                                <label class="formulario__label" for="nombrecliente">Nombre del cliente: </label>\n                                <input class="formulario__input" id="nombrecliente" name="nombrecliente" type="text" required>\n                            </div>\n                            <input type="hidden" name="id_usuario" value="2" >\n                            ','<div class="formulario__campo campovalor" style="display: none;">\n                                    <label class="formulario__label" for="valorpersonalizado">Valor personalizado: </label>\n                                    <input class="formulario__input" type="number" id="valorpersonalizado" name="valorpersonalizado">\n                                </div>'),t(),o()})}}(),function(){if(document.querySelector(".clientes")){const a=document.querySelector("#crearcliente"),o=document.querySelectorAll("#editar"),n=document.querySelectorAll("#hab_desh");let l={titulo:"",url:"",submit:"",nombre:"",apellido:"",movil:"",email:""};function e(e,t){let{titulo:a,url:o,submit:n,nombre:l,apellido:r,movil:i,email:c,password:s}=e;Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:a,html:`<form class="formulario modalform" action="${o}" method="POST">\n                            <input type="hidden" name="id" value="${t}" >\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="nombre">Nombre:</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="text" placeholder="Nombre del cliente" id="nombre" name="nombre" value="${l}" required>\n                                    <label data-num="42" class="count-charts" for="">42</label>\n                                </div>\n                            </div>\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="apellido">Apellido:</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="text" placeholder="Apellido del cliente" id="apellido" name="apellido" value="${r}" required>\n                                    <label data-num="42" class="count-charts" for="">42</label>\n                                </div>\n                            </div>\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="movil">Movil</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="number" placeholder="Movil del cliente" id="movil" name="movil" value="${i}" required>\n                                    <label data-num="10" class="count-charts" for="">10</label>\n                                </div>\n                            </div>\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="email">Email</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="email" placeholder="Email del cliente" id="email" name="email" value="${c}" required>\n                                    <label data-num="40" class="count-charts" for="">40</label>\n                                </div>\n                            </div>\n                            ${s}\n                            <input class="clientes-btn" type="submit" value="${n}">\n                       </form>`,showCancelButton:!1,showConfirmButton:!1})}function t(){document.querySelectorAll(".count-charts").forEach(e=>{e.textContent=e.dataset.num-e.previousElementSibling.value.length,e.previousElementSibling.addEventListener("input",t=>{if(e.textContent=e.dataset.num-t.target.value.length,e.dataset.num-t.target.value.length<=0){let a=t.target.value.slice(0,e.dataset.num);t.target.value=a,e.textContent=0}})})}a.addEventListener("click",()=>{l.titulo="Crear Cliente Nuevo",l.url="/admin/clientes/crear",l.submit="Crear Cliente",l.nombre="",l.apellido="",l.movil="",l.email="",l.password='<div class="formulario__campo">\n                                    <label class="formulario__label" for="password">Password</label>\n                                    <div class="formulario__dato">\n                                        <input class="formulario__input" type="password" placeholder="Password del cliente" id="password" name="password" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, \'\');" required>\n                                        <label data-num="12" class="count-charts" for="">12</label>\n                                    </div>\n                                </div>\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="password2">Repetir Password</label>\n                                    <div class="formulario__dato">\n                                        <input class="formulario__input" type="password" placeholder="Repetir Password" id="password2" name="password2" maxlength="4" oninput="this.value = this.value.replace(/[^0-9]/g, \'\');" required>\n                                        <label data-num="12" class="count-charts" for="">12</label>\n                                    </div>\n                                </div>',e(l,0),t()}),o.forEach(a=>{a.addEventListener("click",a=>{l.titulo="Actualizar Cliente",l.url="/admin/clientes/actualizar",l.submit="Actualizar";const o=a.target.parentElement.parentElement.parentElement;l.nombre=o.children[1].textContent,l.apellido=o.children[2].textContent,l.movil=o.children[3].textContent,l.email=o.children[4].textContent,l.password="",e(l,a.target.parentElement.dataset.id),t()})}),n.forEach(e=>{e.addEventListener("click",e=>{let t="Desea bloquear el cliente?";e.target.classList.contains("habilitar")&&(t="Desea habilitar el cliente?");const a=e.target.parentElement.dataset.id;Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:t,showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{e.isConfirmed&&(window.location="/admin/clientes/hab_desh?id="+a)})})})}}(),function(){if(document.querySelector(".pagina5")){let t=[];const a=document.querySelectorAll('.mediospago__mediopago input[type="checkbox"]'),o=document.querySelector("#btnmediopago");(async()=>{try{const e="/admin/api/getmediospago",o=await fetch(e);!function(e){a.forEach(a=>{const o=e.find(e=>e.id==a.value);"1"===o.estado&&(a.checked=!0,t=[...t,o.id])})}(await o.json())}catch(e){console.log(e)}})(),a.forEach(e=>{e.addEventListener("change",e=>{t=e.target.checked?[...t,e.target.value]:t.filter(t=>t!=e.target.value)})}),o.addEventListener("click",()=>{(async()=>{const a=new FormData;a.append("ids",t);try{const t="/admin/api/setmediospago",o=await fetch(t,{method:"POST",body:a});await o.json()?e("Medios de pago actualizados","alerta__exito",document.querySelector(".mediospago")):e("Se produjo un error intentalo nuevamente","alerta__error",document.querySelector(".mediospago"))}catch(e){console.log(e)}})()});const n=document.querySelector("#formhabilitarempleado"),l=document.querySelector("#dardealtaselectempleado");l.addEventListener("change",e=>{const t=e.target.options[e.target.options.selectedIndex].dataset.restriccion;document.querySelector('.creacioncuentas__habilitaremp input[name="admin"]:checked')&&(document.querySelector('.creacioncuentas__habilitaremp input[name="admin"]:checked').checked=!1),2==t&&(document.querySelector(".creacioncuentas__habilitaremp #roladmin").checked=!0),1==t&&(document.querySelector(".creacioncuentas__habilitaremp #rolempleado").checked=!0)}),n.addEventListener("submit",t=>{t.preventDefault();const a=document.querySelector('input[name="admin"]:checked').value,o=l.options[l.options.selectedIndex].value;(async()=>{const t=new FormData;t.append("idempleado",o),t.append("tiporol",a);try{const o="/admin/api/habilitarempleado",n=await fetch(o,{method:"POST",body:t});await n.json()?(l.options[l.options.selectedIndex].dataset.restriccion=a,e("Empleado dado de alta en sistema administrativo","alerta__exito",document.querySelector(".creacioncuentas__habilitaremp"))):e("Se produjo un error intentalo nuevamente","alerta__error",document.querySelector(".creacioncuentas__habilitaremp"))}catch(e){console.log(e)}})()});const r=document.querySelector("#formsetearpass"),i=document.querySelector("#selectsetearpass");r.addEventListener("submit",t=>{t.preventDefault();const a=i.options[i.options.selectedIndex].value;(async()=>{const t=new FormData;t.append("idempleado",a);try{const a="/admin/api/setearpass",o=await fetch(a,{method:"POST",body:t}),n=await o.json();console.log(n),n?e("Password reiniciado por defecto","alerta__exito",document.querySelector(".creacioncuentas__setearpass")):e("Se produjo un error intentalo nuevamente","alerta__error",document.querySelector(".creacioncuentas__setearpass"))}catch(e){console.log(e)}})()});document.querySelector("#formcolores").addEventListener("submit",t=>{t.preventDefault();const a=document.querySelector(".coloresapp #principal").value,o=document.querySelector(".coloresapp #secundario").value;(async()=>{const t=new FormData;t.append("colorprincipal",a),t.append("colorsecundario",o);try{const a="/admin/api/coloresapp",o=await fetch(a,{method:"POST",body:t});await o.json()?e("Colores establecidos exitosamente","alerta__exito",document.querySelector(".coloresapp")):e("Se produjo un error intentalo nuevamente","alerta__error",document.querySelector(".coloresapp"))}catch(e){console.log(e)}})()}),(async()=>{try{const e="/admin/api/gettimeservice",t=await fetch(e);!function(e){const t=document.querySelector("#selecttime");for(let a=1;a<=t.options.length;a++)if(t.options[a].value==e){t.options[a].selected=!0;break}}(await t.json())}catch(e){console.log(e)}})();function e(e,t,a){const o=document.createElement("P");o.textContent=e,o.classList.add("alerta",t),a.insertBefore(o,a.querySelector(".configuracion__heading")),setTimeout(()=>{document.querySelector(".alerta").remove()},5e3)}document.querySelector("#formtimeserv").addEventListener("submit",t=>{t.preventDefault();const a=document.querySelector("#selecttime"),o=a.options[a.options.selectedIndex].value,n=new FormData;n.append("timeservice",o),(async()=>{try{const t="/admin/api/tiemposervicio",a=await fetch(t,{method:"POST",body:n}),o=await a.json();console.log(o),o?e("Tiempo del servicio establecido","alerta__exito",document.querySelector(".tiemposervicio")):e("Se produjo un error intentalo nuevamente","alerta__error",document.querySelector(".tiemposervicio"))}catch(e){console.log(e)}})()})}}(),function(){if(document.querySelector(".creardescuento")){const t=document.querySelector("#categoria"),a=document.querySelector("#product_serv"),o=document.querySelector("#tipo"),n=document.querySelector("#dcto1"),l=document.querySelector("#dcto2"),r=document.querySelector("#dcto2Valor"),i=document.querySelector("#fecha_ini");let c,s;function e(e){"porcentaje"==o.options[o.options.selectedIndex].value&&(e>100&&(n.value=100),e<0&&(n.value=0),l.value=Math.round(s*n.value/100)),"valor"==o.options[o.options.selectedIndex].value&&(e>parseInt(s)&&(n.value=s),e<0&&(n.value=0),l.value=Math.round(100*n.value/s))}!function(){const e=new Date;e.setDate(e.getDate());const t=e.getFullYear(),a=e.getMonth()+1,o=e.getDate();let n=`${t}-${a}-${o}`;a<10&&o<10&&(n=`${t}-0${a}-0${o}`);a<10&&o>=10&&(n=`${t}-0${a}-${o}`);a>=10&&o<10&&(n=`${t}-${a}-0${o}`);i.min=n}(),(async()=>{try{const e="/admin/api/getservices",t=await fetch(e);c=await t.json()}catch(e){console.log(e)}})(),t.addEventListener("change",e=>{!function(e){horasdisponibles=[];for(;e.firstElementChild;)e.removeChild(e.firstElementChild)}(a);const t=document.createElement("OPTION");t.value="",t.textContent="Seleccione Producto/servicio",a.appendChild(t),o.disabled=!0,n.disabled=!0,"servicios"==e.target.value&&c.forEach(e=>{if(e.precio){const t=document.createElement("OPTION");t.value=e.id,t.textContent=e.nombre,a.appendChild(t)}}),e.target.value}),a.addEventListener("change",t=>{const a=c.filter(e=>e.id==t.target.value);s=a[0].precio,document.querySelector("#valorservicio").textContent="$ "+s,o.disabled=!1,e(n.value)}),o.addEventListener("change",t=>{"porcentaje"==t.target.value&&(n.min=0,n.max=100,r.textContent="Valor"),"valor"==t.target.value&&(n.min=0,n.max=s,r.textContent="Valor (%)"),n.disabled=!1,e(n.value)}),n.addEventListener("input",t=>{e(t.target.value)}),i.addEventListener("change",e=>{const t=document.querySelector("#fecha_fin");t.disabled=!1;const a=new Date(e.target.value);a.setDate(a.getDate()+2);const o=a.getFullYear(),n=a.getMonth()+1,l=a.getDate();let r=`${o}-${n}-${l}`;n<10&&l<10&&(r=`${o}-0${n}-0${l}`),n<10&&l>=10&&(r=`${o}-0${n}-${l}`),n>=10&&l<10&&(r=`${o}-${n}-0${l}`),t.min=r})}}(),document.addEventListener("DOMContentLoaded",(function(){scrolnav()})),function(){if(document.querySelector("#dash-cliente")){const o=document.querySelector("#servicio"),n=document.querySelector("#profesional"),l=document.querySelector("#date"),r=document.querySelectorAll("#cancelado"),i=document.getElementById("miDialogo");let c;function e(t){console.log(t.target),t.target!==i&&"cerrardialog"!==t.target.id||(i.close(),document.removeEventListener("click",e))}function t(e){const t=c.filter(t=>t.idservicio===e);a(n),a(document.querySelector("#horas"));const o=document.createElement("OPTION");o.value="",o.textContent=" -Selecionar- ",o.selected=!0,o.disabled=!0,n.appendChild(o),t.forEach(e=>{const t=document.createElement("OPTION");t.value=e.idempleado,t.textContent=e.nombre,t.dataset.id=e.id,n.appendChild(t)})}function a(e){for(horasdisponibles=[];e.firstElementChild;)e.removeChild(e.firstElementChild)}l.disabled=!0,(async()=>{try{const e="/admin/api/getemployee_services",a=await fetch(e);c=await a.json(),function(){const e=new URLSearchParams(window.location.search),a=e.get("id"),n=e.get("valordcto");if(a){o.classList.add("servicioselected");for(let e=1;e<=o.options.length;e++)if(o.options[e].value==a){o.options[e].selected=!0;let t=o.options[e].textContent.split(" - ");t=t[0]+" - "+n,o.options[e].textContent=t;break}t(a)}}()}catch(e){console.log(e)}})(),function(){const e=document.querySelector("#date"),t=new Date;t.setDate(t.getDate()+1);const a=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();let l=`${a}-${o}-${n}`;o<10&&n<10&&(l=`${a}-0${o}-0${n}`);o<10&&n>=10&&(l=`${a}-0${o}-${n}`);o>=10&&n<10&&(l=`${a}-${o}-0${n}`);e.min=l}(),o.addEventListener("change",a=>{l.disabled=!0,o.classList.remove("servicioselected"),a.target.options[a.target.options.selectedIndex].textContent.includes("$")||(i.showModal(),document.addEventListener("click",e)),t(a.target.value)}),r.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.parentElement.parentElement.parentElement;!function(e,t){Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea Cancelar La Cita?",text:"SE CANCELARA LA CITA, PUEDES SOLICITAR UNA NUEVA CUANDO LO DESEES.",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(a=>{a.isConfirmed&&(async()=>{try{const a="/admin/api/cancelarcita?id="+e,o=await fetch(a);await o.json()?(t.remove(),Swal.fire("Cita Cancelada","","success")):Swal.fire("No se pudo cancelar intentalo nuevamente","","error")}catch(e){console.log(e)}})()})}(e.target.parentElement.dataset.id,t)})})}}(),function(){if(document.querySelector("#dash-cliente")){const n=document.querySelector("#telcliente").textContent;let l=0,r=[],i=[];const c=document.querySelector("#horas");function e(e,t){const a=new Date("01/01/2000 "+e),o=new Date("01/01/2000 "+t);for(o.setTime(o.getTime()-6e4*Math.floor(l));a<=o;){const e=a.getHours().toString().padStart(2,"0"),t=a.getMinutes().toString().padStart(2,"0");if(!i.includes(`${e}:${t}`)){const a=new Date(`2000-01-01T${e}:${t}`).toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0});r=[...r,{horaformat12:a,horaformat24:`${e}:${t}`}]}a.setTime(a.getTime()+6e4*l)}}const s=document.querySelector("#profesional"),d=document.querySelector("#date");let u,m,p,f,v,h;(async()=>{try{const e="/admin/api/gettimeservice",t=await fetch(e);l=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getfechadesc",t=await fetch(e);u=await t.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getmalla",t=await fetch(e);m=await t.json()}catch(e){console.log(e)}})();const _=async()=>{try{const e="/admin/api/getcitas",t=await fetch(e);p=await t.json()}catch(e){console.log(e)}};function t(t,o){const n=s.options[s.options.selectedIndex].value;h=p.filter(e=>e.idempleado===n&&e.start===t&&"Pendiente"===e.estado);if(f.some(e=>e.fecha===t))Swal.fire("Este dia no esta disponible!","You clicked the button!","error");else{const t=v.filter(e=>e.id_dia==(0===o?7:o));t.length?function(t){let o=[],n=[];o=[...o,t.inicioturno,t.inidescanso],n=[...n,t.findescanso,t.finturno],o=o.map(e=>e=e.substring(0,2)+":"+e.substring(2,4)),n=n.map(e=>e=e.substring(0,2)+":"+e.substring(2,4)),i=h.map(e=>e.hora_fin);for(let t=0;t<o.length-1;t++)e(o[t],o[t+1]);for(let t=0;t<n.length-1;t++)e(n[t],n[t+1]);console.log(r),r.forEach(e=>{const t=document.createElement("DIV");t.classList.add("cliente__hora");const o=document.createElement("P");o.textContent=e.horaformat12,o.dataset.hora24=e.horaformat24,o.onclick=a,o.classList.add("texthora"),t.appendChild(o),c.appendChild(t)})}(t[0]):Swal.fire("Este dia no esta disponible!","You clicked the button!","error")}}function a(e){Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea Reservar La Cita?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&async function(e){const t=new FormData,a=s.options[s.options.selectedIndex],o=document.querySelector("#servicio").options[document.querySelector("#servicio").options.selectedIndex].value,l=document.querySelector("#descripcion").value,r=new Date;t.append("telcliente",n),t.append("id_empserv",a.dataset.id),t.append("fecha_tomada",r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate()),t.append("start",d.value),t.append("hora",r.toLocaleTimeString([],{hour12:!1})),t.append("hora_fin",e),t.append("idservicio",o),t.append("nameprofesional",a.value),t.append("descripcion",l);try{const e="/admin/api/enviarcita",a=await fetch(e,{method:"POST",body:t}),o=await a.json();if(!0===o)return!0;if("masde3citas"===o)return"masde3citas";if("error"===o)return"error"}catch(e){console.log(e)}}(e.target.dataset.hora24).then(e=>{!0===e?(Swal.fire("Cita Programada","","success"),setTimeout(()=>{window.location.reload()},1500)):"masde3citas"===e?Swal.fire("No es posible agendar cita si ya tienes 3 citas pendientes","","error"):"error"===e&&Swal.fire("No fue posible agendar cita, Intentalo de nuevo","","error")})})}function o(e){for(r=[];e.firstElementChild;)e.removeChild(e.firstElementChild)}_(),setInterval(()=>{if(_(),""==!d.value&&document.querySelector(".cliente__hora")){const e=new Date(d.value);o(c),t(d.value,e.getUTCDay())}},3100),s.addEventListener("change",e=>{o(c),d.disabled=!1,d.value="",v=m["empleado_"+e.target.value],f=u.filter(t=>e.target.value===t.empleado_id)}),d.addEventListener("input",e=>{o(c);const a=new Date(e.target.value);t(e.target.value,a.getUTCDay())})}}(),function(){if(document.querySelector(".descuentos")){const t=document.querySelectorAll(".programar"),a=document.querySelectorAll(".cancelado"),o=document.querySelectorAll(".sendmsj");let n={};function e(e,t){const a=document.querySelector("#dcto1"),o=document.querySelector("#dcto2"),l=document.querySelector("#dcto2Valor");"porcentaje"==t.options[t.options.selectedIndex].value&&(a.min=0,a.max=100,l.textContent="Valor",e>100&&(a.value=100),e<0&&(a.value=0),o.value=Math.round(n.valorservicio*a.value/100)),"valor"==t.options[t.options.selectedIndex].value&&(a.min=0,a.max=n.valorservicio,l.textContent="Valor (%)",e>parseInt(n.valorservicio)&&(a.value=n.valorservicio),e<0&&(a.value=0),o.value=Math.round(100*a.value/n.valorservicio))}t.forEach(t=>{t.addEventListener("click",t=>{const a=t.target.parentElement.parentElement.parentElement;n.id=t.target.parentElement.dataset.id,n.nombreproducto=a.children[2].textContent,n.valorservicio=a.children[3].textContent.slice(1),n.dcto=a.children[4].textContent,n.valorfinal=a.children[5].textContent,n.fecha_fin=a.children[7].textContent,function(t){Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Actualizar Oferta",html:`<form class="formulario modalform" action="/admin/fidelizacion/editar_dctoxproduct" method="POST">\n                            <input type="hidden" name="id" value="${t.id}" >\n                            \n                            <span class="nameuser">${t.nombreproducto}</span>\n                            <span class="precio">Valor: ${t.valorservicio}</span>\n                            <span class="nameuser">Dcto: ${t.dcto}</span>\n                            <span class="nameuser">Valor Final: ${t.valorfinal}</span>\n                            \n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="tipo">Tipo De Dcto: </label>\n                                <select class="formulario__select" name="tipo" id="tipo" required>\n                                    <option value="" disabled selected> Seleccionar tipo de dcto</option>\n                                    <option value="porcentaje">Porcentaje</option>\n                                    <option value="valor">Valor</option>\n                                </select>\n                            </div>\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="dcto1">Descuento</label>\n                                <input class="formulario__input" id="dcto1" type="number" min="" max="" name="dcto1" value="" disabled required>\n                            </div>\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="dcto2" id="dcto2Valor">Valor</label>\n                                <input class="formulario__input" id="dcto2" type="number" min="" max="" name="dcto2" value="" readonly required>\n                            </div>\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="fecha_fin">Fecha De Finalizacion</label>\n                                <input class="formulario__input" type="date" id="fecha_fin" name="fecha_fin" value="${t.fecha_fin}" requiered>\n                            </div>\n                            \n                            <input class="clientes-btn" type="submit" value="Actualizar">\n                       </form>`,showCancelButton:!1,showConfirmButton:!1}),function(){const t=document.querySelector("#dcto1"),a=document.querySelector("#tipo");a.addEventListener("change",o=>{t.disabled=!1,e(t.value,a)}),t.addEventListener("input",t=>{e(t.target.value,a)})}()}(n)})}),a.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.parentElement.dataset.id;Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea eliminar la oferta del cliente?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{e.isConfirmed&&(window.location="/admin/fidelizacion?id="+t)})})}),o.forEach(e=>{e.addEventListener("click",e=>{e.target.parentElement.dataset.id;Swal.fire({icon:"error",title:"Oops...",text:"clase y metodo de mensaje no configurado!",footer:"Innovatech quindio"})})})}}(),function(){if(document.querySelector("#dashboardcitas")){document.querySelectorAll(".detallepagocita").forEach(e=>{e.addEventListener("click",e=>{const t=e.target.parentElement.parentElement.parentElement,a=t.children[6].textContent,o=t.children[0].textContent;"Finalizada"===a&&(async()=>{try{const e="/admin/api/detallepagoxcita?id="+o,a=await fetch(e);!function(e,t){console.log(e);const{id:a,idcita:o,recibido:n,devolucion:l,fecha_pago:r,hora_pago:i,dcto:c,valordcto:s,valorpromo:d,valor_servicio:u,total:m}=e;console.log(n),Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Detalle Del Pago",html:`\n                    <h4 class="orden">App Barber</h4>\n                    <div class="recibo">\n                        <p class="recibo__titulo">Nº De Pago: ${a}</p>\n                        <p class="recibo__titulo">Orden Cita: ${o}</p>\n                        <div class="recibo__datos">\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Cliente:</p>\n                                <p class="recibo__texto">${t.children[1].textContent}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">profesional:</p>\n                                <p class="recibo__texto">${t.children[3].textContent}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">servicio:</p>\n                                <p class="recibo__texto">${t.children[2].textContent}</p>\n                            </div>\n                        </div>\n                        <div class="recibo__datos">\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Fecha:</p>\n                                <p class="recibo__texto">${r}, ${i}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Valor Servicio:</p>\n                                <p class="recibo__texto">$${u}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Recibido:</p>\n                                <p class="recibo__texto">$${n}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Devolucion:</p>\n                                <p class="recibo__texto">$${l}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Promo Aplicado:</p>\n                                <p class="recibo__texto">$${d}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Dcto Manual:</p>\n                                <p class="recibo__texto">$${s}</p>\n                            </div>\n                            <div class="recibo__dato">\n                                <p class="recibo__titulo">Total:</p>\n                                <p class="recibo__texto">$${m}</p>\n                            </div>\n                        </div>\n                    </div>`,width:"auto",showCancelButton:!0,confirmButtonText:"Anular Pago"}).then(e=>{e.isConfirmed&&Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea anular el pago?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{e.isConfirmed&&async function(e){try{const t="/admin/api/anularpagoxcita?id="+e,a=await fetch(t);return await a.json()}catch(e){console.log(e)}}(a).then(e=>{e?(!function(e){e.children[6].textContent="Pendiente",e.classList.remove("tr-resaltar")}(t),Swal.fire("Anulado!","","success")):Swal.fire("No se permite de dias anteriores!","","error")})})})}(await a.json(),t)}catch(e){console.log(e)}})()})})}}(),function(){if(document.querySelector(".formulario__fieldset--servicios")){const o=document.querySelector(".pagina1 .formulario__campostags"),n=document.querySelector(".pagina4 .formulario__campostags"),l=document.querySelector(".pagina1 .formulario__tagselect"),r=document.querySelector(".pagina4 .formulario__tagselect"),i=document.querySelector('.pagina1 [name="servicios"]'),c=document.querySelector('.pagina4 [name="servicios"]'),s=document.querySelector("#selectemployee"),d=document.querySelector("#eliminaremployee");let u,m=[],p=[],f=[];l.classList.add("selectskills1");for(let e=1;e<r.options.length;e++){let t={id:r.options[e].value,nombre:r.options[e].textContent};m=[...m,t]}function e(e,o,n){const l=document.createElement("DIV");l.classList.add("formulario__tag");const r=document.createElement("SPAN");r.textContent=e,r.id=o;const i=document.createElement("I");return i.classList.add("fa-solid"),i.classList.add("fa-rectangle-xmark"),i.onclick=function(e){!function(e,o){let n=e.target.previousElementSibling;a(o,{id:n.id,nombre:n.textContent}),e.target.parentElement.remove(),o.classList.contains("selectskills1")?p=p.filter(e=>e!=n.id):f=f.filter(e=>e!=n.id);t()}(e,n)},l.appendChild(r),l.appendChild(i),l}function t(){i.value=p.toString(),c.value=f.toString()}function a(e,t){const a=document.createElement("OPTION");a.value=t.id,a.textContent=t.nombre,e.appendChild(a)}(async()=>{try{const e="/admin/api/getAllemployee",t=await fetch(e);u=await t.json()}catch(e){console.log(e)}})(),l.addEventListener("change",a=>{p=[...p,a.target.options[l.options.selectedIndex].value];let n=e(a.target.options[l.options.selectedIndex].textContent,a.target.options[l.options.selectedIndex].value,l);o.appendChild(n),l.options[l.options.selectedIndex].remove(),l.options[0].selected=!0,t()}),s.addEventListener("change",o=>{let l;document.querySelectorAll(".pagina4 .formulario__tag").forEach(e=>{e.remove()}),d.href="/admin/adminconfig/eliminaremployee?id="+o.target.value,l=u.filter(e=>e.id==o.target.value),function(o){const{servicios:l}=o[0];document.querySelector(".pagina4 #nombre").value=o[0].nombre,document.querySelector(".pagina4 #apellido").value=o[0].apellido,document.querySelector(".pagina4 #movil").value=o[0].movil,document.querySelector(".pagina4 #email").value=o[0].email,document.querySelector(".pagina4 #departamento").value=o[0].departamento,document.querySelector(".pagina4 #ciudad").value=o[0].ciudad,document.querySelector(".pagina4 #direccion").value=o[0].direccion,f=[],m.forEach(e=>{let t=1;for(;t<r.options.length&&e.id!=r.options[t].value;t++);t===r.options.length&&a(r,{id:e.id,nombre:e.nombre})}),l.forEach(t=>{f=[...f,t.id];let a=e(t.nombre,t.id,r);n.appendChild(a),r.querySelector(`option[value="${t.id}"`)&&r.querySelector(`option[value="${t.id}"`).remove()}),r.options[0].selected=!0,t()}(l)}),r.addEventListener("change",a=>{f=[...f,a.target.options[r.options.selectedIndex].value];let o=e(a.target.options[r.options.selectedIndex].textContent,a.target.options[r.options.selectedIndex].value,r);n.appendChild(o),r.options[r.options.selectedIndex].remove(),r.options[0].selected=!0,t()}),d.addEventListener("click",e=>{e.preventDefault(),e.target.href.includes("?id=")&&Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea eliminar el empleado?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(t=>{t.isConfirmed&&(window.location=e.target.href)})})}}(),function(){if(document.querySelector(".facturacion")){let t,a,o;(async()=>{try{const e="/admin/api/getservices",a=await fetch(e);t=await a.json()}catch(e){console.log(e)}})(),(async()=>{try{const e="/admin/api/getemployee_services",t=await fetch(e);a=await t.json()}catch(e){console.log(e)}})();document.querySelector("#fecha").addEventListener("input",e=>{window.location="/admin/facturacion/buscarxfecha?pagina=1&fecha="+e.target.value});document.querySelector("#pagar").addEventListener("click",()=>{Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Pago De Servicio",html:'<form class="formulario modalform" action="/admin/facturacion" method="POST">\n                            <input type="hidden" name="total" value="" >\n                            <input type="hidden" name="dcto" value="0">\n                            <input type="hidden" name="valor_servicio" value="0">\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="servicios">Servicios:</label>\n                                <select class="formulario__select" name="idservicio" id="selectservice" required>\n                                    <option value="" disabled selected> Seleccionar Servicio</option>\n                                </select> \n                            </div>\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="empleado">Empleado:</label>\n                                <select class="formulario__select" name="idempleado" id="selectemployee" required>\n                                    <option value="" disabled selected> Seleccionar Empleado </option>\n                                </select> \n                            </div>\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="valorapagar">Valor a pagar:</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="number" id="valorapagar" name="valorapagar" value="" readonly required>\n                                    <button id="btndesc" type="button"> <i class="fa-solid fa-plus"> </i>  Desc </button>\n                                </div>\n                            </div>\n\n                            <div class="formulario__campo campo-descuentomanual" style="display: none">\n                                <label class="formulario__label" for="valordcto">Descuento manual: </label>\n                                <input class="formulario__input" min="0" type="text" id="valordcto" name="valordcto" value="" oninput="this.value = this.value.replace(/[^0-9]/g, \'0\').padStart(1, \'0\');">\n                            </div>\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="mediopago">Elegir Medio De Pago:</label>\n                                <select class="formulario__select" name="idmediospago" id="mediopago">\n                                    <option value="" disabled selected> Seleccionar medio pago</option>\n                                </select> \n                            </div>\n                            \n                            <div class="formulario__campo-2r">\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="recibido">Recibido:</label>\n                                    <input class="formulario__input" type="number" id="recibido" name="recibido" value="0">\n                                </div>\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="devolucion">Devolucion:</label>\n                                    <input class="formulario__input" type="number" id="devolucion" name="devolucion" value="" readonly required>\n                                </div>\n                            </div>\n                            \n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="nota">Nota:</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="text" placeholder="Nota del pago" id="nota" name="nota" value="">\n                                    <label data-num="64" class="count-charts" for="">64</label>\n                                </div>\n                            </div>\n                            \n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="descuento">Imprimir Recibo: </label>\n                                <div class="formulario__campo-2r">\n                                    <div class="formulario__imprimir">\n                                        <label class="formulario__label" for="imprimir_si">Si:</label>\n                                        <input id="imprimir_si" type="radio" value="1" name="imprimir">\n                                    </div>\n                                    <div class="formulario__imprimir">\n                                        <label class="formulario__label" for="imprimir_no">No:</label>\n                                        <input id="imprimir_no" type="radio" value="0" name="imprimir" checked>\n                                    </div>\n                                </div>\n                            </div>\n    \n                            <input class="clientes-btn" type="submit" value="Pagar">\n                       </form>',showCancelButton:!1,showConfirmButton:!1,didOpen:()=>{$("#selectservice").select2()}}),document.querySelector("#recibido").addEventListener("input",e),function(){const n=document.querySelector("#selectservice");t.forEach(e=>{const t=document.createElement("OPTION");t.value=e.id,t.textContent=e.nombre,n.appendChild(t)}),n.addEventListener("change",n=>{!function(e){const t=document.querySelector("#selectemployee"),o=a.filter(t=>t.idservicio===e);!function(e){for(;e.firstElementChild;)e.removeChild(e.firstElementChild)}(t);const n=document.createElement("OPTION");n.value="",n.textContent=" Seleccionar Empleado ",n.selected=!0,n.disabled=!0,t.appendChild(n),o.forEach(e=>{const a=document.createElement("OPTION");a.value=e.idempleado,a.textContent=e.nombre,a.dataset.id=e.id,t.appendChild(a)})}(n.target.value),function(a){const n=t.filter(e=>e.id==a.target.value);document.querySelector("#valorapagar").value=n[0].precio,o=n[0].precio,n[0].precio?(document.querySelector("#valorapagar").readOnly=!0,document.querySelector("input[name=valor_servicio]").value=n[0].precio,e()):(document.querySelector("#valorapagar").readOnly=!1,o=NaN,document.querySelector("#valorapagar").addEventListener("input",t=>{document.querySelector("input[name=valor_servicio]").value=t.target.value,document.querySelector("input[name=valordcto]").value=0,o=t.target.value,e()})),document.querySelector("#recibido").value=0,document.querySelector("#devolucion").value=0}(n),document.querySelector("input[name=valordcto]").value=""})}(),document.querySelector("#btndesc").addEventListener("click",()=>{document.querySelector(".campo-descuentomanual").style="display: block",document.querySelector("#valordcto").addEventListener("input",t=>{console.log(o),console.log(o-parseInt(t.target.value)),document.querySelector("#valorapagar").value=o-parseInt(t.target.value),e()})}),n(),document.querySelectorAll(".count-charts").forEach(e=>{e.textContent=e.dataset.num-e.previousElementSibling.value.length,e.previousElementSibling.addEventListener("input",t=>{if(e.textContent=e.dataset.num-t.target.value.length,e.dataset.num-t.target.value.length<=0){let a=t.target.value.slice(0,e.dataset.num);t.target.value=a,e.textContent=0}})})});const n=async()=>{try{const e="/admin/api/getmediospago",t=await fetch(e);!function(e){const t=document.querySelector("#mediopago");e.forEach(e=>{if("1"===e.estado){const a=document.createElement("OPTION");a.value=e.id,a.textContent=e.mediopago,t.appendChild(a)}})}(await t.json())}catch(e){console.log(e)}};function e(){const e=parseInt(document.querySelector("#valorapagar").value),t=document.querySelector("#devolucion"),a=parseInt(document.querySelector("#recibido").value);t.value=a>=e?a-e:0,document.querySelector("input[name=total]").value=e}}}(),function(){if(document.querySelector(".descpagina3")){const t=document.querySelector("#selectemployeedate"),a=document.querySelector(".viewdates");let o;async function e(e){console.log(e.target.id);try{const t="/admin/api/deletefechadesc?id="+e.target.id,a=await fetch(t);1==await a.json()&&document.querySelector(`i[id="${e.target.id}"]`).parentElement.remove()}catch(e){console.log(e)}}(async()=>{try{const e="/admin/api/getfechadesc",t=await fetch(e);o=await t.json()}catch(e){console.log(e)}})(),t.addEventListener("change",t=>{const n=o.filter(e=>e.empleado_id==t.target.value);!function(){for(;a.firstChild;)a.removeChild(a.firstChild)}(),function(t){t.forEach(t=>{const o=document.createElement("DIV");o.classList.add("viewdates__viewdate"),o.dataset.id=t.id;const n=document.createElement("P");n.classList.add("viewdates__fecha"),n.textContent=t.fecha;const l=document.createElement("I");l.classList.add("fa-solid","fa-rectangle-xmark"),l.id=t.id,l.onclick=e,o.appendChild(n),o.appendChild(l),a.appendChild(o)})}(n)})}}(),function(){if(document.querySelector("#dashboardcitas")){const n=document.querySelectorAll(".cancelado"),l=document.querySelectorAll(".finalizado");let r;n.forEach(e=>{e.addEventListener("click",e=>{const t=e.target.parentElement.parentElement.parentElement,a=t.children[0].textContent,o=t.children[6].textContent;"Pendiente"!==o&&"Out"!==o||function(e,t){Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea Cancelar La Cita?",text:"SE CANCELARA LA CITA, PUEDES CREAR UNA NUEVA CUANDO LO DESEES.",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(a=>{a.isConfirmed&&(async()=>{try{const a="/admin/api/cancelarcita?id="+e,o=await fetch(a);await o.json()&&(t.textContent="Cancelado",Swal.fire("Cita Cancelada","","success"))}catch(e){console.log(e)}})()})}(a,t.children[6])})}),l.forEach(n=>{n.addEventListener("click",n=>{"Pendiente"===n.target.parentElement.parentElement.parentElement.children[6].textContent&&(Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Terminar Cita",html:'<form class="formulario modalform" action="/admin/citas/finalizar?pagina=1" method="POST">\n                            <input type="hidden" name="id" value="" >\n                            <input type="hidden" name="valor_servicio" value="" >\n                            <input type="hidden" name="idempleado" value="" >\n                            <input type="hidden" name="promodcto" value="0" >\n                            <input type="hidden" name="total" value="0" >\n\n                            <p class="orden"></p>\n                            <span class="nameuser"></span>\n                            <span class="nameservice"></span>\n                            <span class="precio"></span>\n\n                            <div class="">\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="valorpromodcto">Aplicar Oferta:</label>\n                                <select class="formulario__select" name="valorpromo" id="valorpromodcto">\n                                    <option value="" disabled selected> Seleccionar Dcto</option>\n                                    <option data-dcto="0" value="0"> Sin Oferta</option>\n                                </select> \n                            </div>\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="valorapagar">Valor a pagar: </label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="number" id="valorapagar" name="valorapagar" value="" readonly required>\n                                    <button id="btndesc" type="button"> <i class="fa-solid fa-plus"> </i>  Desc </button>\n                                </div>\n                            </div>\n\n                            <div class="formulario__campo campo-descuentomanual" style="display: none;">\n                                <label class="formulario__label" for="valordcto">Descuento manual: </label>\n                                <input class="formulario__input" min="0" type="text" id="valordcto" name="valordcto" value="" oninput="this.value = this.value.replace(/[^0-9]/g, \'0\').padStart(1, \'0\');">\n                            </div>\n\n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="mediopago">Elegir Medio De Pago:</label>\n                                <select class="formulario__select" name="idmediospago" id="mediopago">\n                                    <option value="" disabled selected> Seleccionar medio pago</option>\n                                </select> \n                            </div>\n                            \n                            <div class="formulario__campo-2r">\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="recibido">Recibido:</label>\n                                    <input class="formulario__input" type="number" id="recibido" name="recibido" value="0">\n                                </div>\n                                <div class="formulario__campo">\n                                    <label class="formulario__label" for="devolucion">Devolucion:</label>\n                                    <input class="formulario__input" type="number" id="devolucion" name="devolucion" value="0" readonly required>\n                                </div>\n                            </div>\n                            \n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="nota">Nota:</label>\n                                <div class="formulario__dato">\n                                    <input class="formulario__input" type="text" placeholder="Nota del pago" id="nota" name="nota" value="">\n                                    <label data-num="64" class="count-charts" for="">64</label>\n                                </div>\n                            </div>\n                            \n                            <div class="formulario__campo">\n                                <label class="formulario__label" for="descuento">Imprimir Recibo: </label>\n                                <div class="formulario__campo-2r">\n                                    <div class="formulario__imprimir">\n                                        <label class="formulario__label" for="imprimir_si">Si:</label>\n                                        <input id="imprimir_si" type="radio" value="1" name="imprimir">\n                                    </div>\n                                    <div class="formulario__imprimir">\n                                        <label class="formulario__label" for="imprimir_no">No:</label>\n                                        <input id="imprimir_no" type="radio" value="0" name="imprimir" checked>\n                                    </div>\n                                </div>\n                            </div>\n                            </div>\n    \n                            <input class="clientes-btn" type="submit" value="Pagar">\n                       </form>',showCancelButton:!1,showConfirmButton:!1}),document.querySelector("#recibido").addEventListener("input",o),document.querySelectorAll(".count-charts").forEach(e=>{e.textContent=e.dataset.num-e.previousElementSibling.value.length,e.previousElementSibling.addEventListener("input",t=>{if(e.textContent=e.dataset.num-t.target.value.length,e.dataset.num-t.target.value.length<=0){let a=t.target.value.slice(0,e.dataset.num);t.target.value=a,e.textContent=0}})}),i(),function(o){const n=o.target.parentElement.dataset.promodcto||0,l=o.target.parentElement.dataset.promodctovalor||0,i=o.target.parentElement.parentElement.parentElement,c=i.children[0].textContent,s=i.children[1].textContent,d=i.children[2].textContent;r=i.children[2].dataset.precio;const u=i.children[6].dataset.tipocita;parseInt(u)||(document.querySelector("#valorapagar").readOnly=!1);document.querySelector("input[name=id]").value=c,document.querySelector("input[name=valor_servicio]").value=r,document.querySelector("input[name=idempleado]").value=i.children[3].dataset.idempleado,document.querySelector(".orden").textContent="Orden: "+c,document.querySelector(".nameuser").textContent=s,document.querySelector(".nameservice").textContent=d,document.querySelector(".precio").textContent="Precio: $"+r,document.querySelector("input[name=total]").value=r;const m=document.querySelector("#btndesc"),p=document.querySelector("#valorpromodcto");if(parseInt(n)||parseInt(l)){const e=document.createElement("option");e.textContent=n+"% - $"+l,e.value=l,e.dataset.dcto=n,p.appendChild(e)}p.addEventListener("change",t);const f=document.querySelector("#valorapagar");f.value=r,f.addEventListener("input",e),m.addEventListener("click",()=>{document.querySelector(".campo-descuentomanual").style="display: block",a()})}(n))})});const i=async()=>{try{const e="/admin/api/getmediospago",t=await fetch(e);!function(e){const t=document.querySelector("#mediopago");e.forEach(e=>{if("1"===e.estado){const a=document.createElement("OPTION");a.value=e.id,a.textContent=e.mediopago,t.appendChild(a)}})}(await t.json())}catch(e){console.log(e)}};function e(){document.querySelector("input[name=valor_servicio]").value=parseInt(document.querySelector("#valorapagar").value),r=parseInt(document.querySelector("#valorapagar").value),document.querySelector("#valordcto").value=0,a(),o()}function t(e){document.querySelector("#valorapagar").value=r;const t=parseInt(e.target.value);document.querySelector("#valorapagar").value=r-t;const n=e.target.options[this.options.selectedIndex].dataset.dcto;document.querySelector("input[name=promodcto]").value=n,document.querySelector("#valordcto").value="",a(),o()}function a(){const e=document.querySelector("#valordcto"),t=parseInt(document.querySelector("#valorapagar").value);e.addEventListener("input",e=>{console.log(e.target.value),document.querySelector("#valorapagar").value=t-parseInt(e.target.value),o()})}function o(){const e=parseInt(document.querySelector("#valorapagar").value),t=document.querySelector("#devolucion"),a=parseInt(document.querySelector("#recibido").value);t.value=a>=e?a-e:0,document.querySelector("input[name=total]").value=e}}}(),function(){if(document.querySelector("#servicios-grafica")){let e,t,a,o,n,l=0;citas100=0,progreso=440,(async()=>{try{const r="/admin/api/alldays",i=await fetch(r),c=await i.json(),s="/admin/api/totalcitas",d=await fetch(s),u=await d.json();c.reverse(),e=c.map(e=>e.fecha),t=c.map(e=>e.totaldia),n=u.filter(e=>"Cancelado"===e.estado),a=u.length-n.length,o=u.filter(e=>"Finalizada"===e.estado),l=o.reduce((e,t)=>e+parseInt(t.facturacion.total),0),a&&(citas100=100*o.length/a),progreso=440*citas100/100,function(){const a=document.getElementById("servicios-grafica").getContext("2d");new Chart(a,{type:"line",data:{labels:e,datasets:[{label:"# of Votes",data:t,borderColor:"#00c8c2",backgroundColor:"#ea580c"}]},options:{scales:{y:{beginAtZero:!0}},plugins:{legend:{display:!1}}}})}(),function(){const e=document.querySelector("circle");e.style.strokeDashoffset=440-progreso,e.classList.add("animacion");document.querySelector(".dailyearning").textContent="$"+l;document.querySelector(".rueda .numero").textContent=Math.round(citas100)+"%"}()}catch(e){console.log(e)}})()}}(),function(){if(document.querySelector(".pagina2malla")){const t=document.querySelector("#selectempleadomalla");let a;function e(e,t){for(let a=0;t<2300;a++){let a=document.createElement("OPTION");(t+=30)%100==60&&(t+=40),a.value=t,a.textContent=t%100==0?parseInt(t/100)+":00":parseInt(t/100)+":"+t%100,e.appendChild(a)}}(async()=>{try{const e="/admin/api/getmalla",t=await fetch(e);a=await t.json()}catch(e){console.log(e)}})(),t.addEventListener("change",t=>{const o=a["empleado_"+t.target.value];document.querySelectorAll('.malla INPUT[type="checkbox"]').forEach(e=>{if(e.checked){e.checked=!1;for(let t=0;t<4;t++)e.parentElement.nextElementSibling.children[t].disabled=!0,0===t?e.parentElement.nextElementSibling.children[0].value="":e.parentElement.nextElementSibling.children[t].options[0].selected=!0}}),o&&o.forEach(t=>{const{inicioturno:a,inidescanso:o,findescanso:n,finturno:l}=t;let r=new Array(a,o,n,l);const i=document.querySelector(`input[data-id="${t.id_dia}"]`);i.checked=!0;for(let e=0;e<4;e++)i.parentElement.nextElementSibling.children[e].disabled=!1;document.querySelector(`#entrada[data-id="${t.id_dia}"]`).value=a.substring(0,2)+":"+a.substring(2,4);let c=document.querySelector(`#inidescanso[data-id="${t.id_dia}"]`);for(let t=0;t<3;t++){e(c,parseInt(r[t]));for(let e=0;e<c.options.length;e++)c.options[e].value==parseInt(r[t+1])&&(c.options[e].selected=!0);c=c.nextElementSibling}})})}}(),function(){if(document.querySelector(".headerapp__menu")){const e=document.querySelector("#btnmenu"),t=document.querySelector(".headerapp__navmenu");e.addEventListener("click",()=>{t.classList.toggle("mostrar")})}}(),document.querySelector(".promociones")&&console.log("promociones"),function(){if(document.querySelector(".reportes")){const t=document.querySelectorAll(".reportes__btn"),a=document.getElementById("miDialogo");function e(t){console.log(t.target),t.target===a&&(a.close(),document.removeEventListener("click",e))}t.forEach(t=>{t.addEventListener("click",()=>{a.showModal(),document.addEventListener("click",e)})})}}(),function(){const e=document.querySelectorAll("#servicio");function t(){document.querySelectorAll(".count-charts").forEach(e=>{e.textContent=e.dataset.num-e.previousElementSibling.value.length,e.previousElementSibling.addEventListener("input",t=>{if(e.textContent=e.dataset.num-t.target.value.length,e.dataset.num-t.target.value.length<=0){let a=t.target.value.slice(0,e.dataset.num);t.target.value=a,e.textContent=0}})})}document.querySelectorAll(".servicios__eliminar").forEach(e=>{e.addEventListener("click",e=>{let t;e.target.href="/admin/servicios/eliminar",e.preventDefault(),t="I"===e.target.tagName?e.target.parentElement.parentElement.dataset.id:e.target.parentElement.dataset.id,Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea eliminar el servcio?",showCancelButton:!0,confirmButtonText:"Si",cancelButtonText:"No"}).then(e=>{if(e.isConfirmed){Swal.fire("Eliminado","","success"),async function(){const e=new FormData;console.log(t),e.append("id",t);try{const a="/admin/api/eliminarservicio",o=await fetch(a,{method:"POST",body:e}),n=await o.json();console.log(n);document.querySelector(`div[data-id="${t}"]`).remove()}catch(e){console.log(e)}}()}})})}),e.forEach(e=>{e.addEventListener("click",e=>{if("DIV"===e.target.tagName||"P"===e.target.tagName||"H4"===e.target.tagName||"SPAN"===e.target.tagName){let a,o,n,l,r;l=l=e.target.dataset.id,r=e.target.dataset.user,"P"!==e.target.tagName&&"H4"!==e.target.tagName||(l=e.target.parentElement.dataset.id,r=e.target.parentElement.dataset.user),"SPAN"===e.target.tagName&&(l=e.target.parentElement.parentElement.dataset.id,r=e.target.parentElement.parentElement.dataset.user),parseInt(r)>1&&(a=document.querySelector(`div[data-id="${l}"] h4`).textContent,o=parseInt(document.querySelector(`div[data-id="${l}"] #precio`).textContent),n=parseInt(document.querySelector(`div[data-id="${l}"] #duracion`).textContent),Swal.fire({customClass:{confirmButton:"sweetbtnconfirm",cancelButton:"sweetbtncancel"},title:"Desea editar el servcio?",html:`<form class="formulario" action="/admin/servicios/editar" method="POST">\n                                    <input type="hidden" name="id" value="${l}" >\n                                    <div class="formulario__campo">\n                                        <label class="formulario__label" for="nombre">Nombre:</label>\n                                        <div class="formulario__dato">\n                                            <input class="formulario__input" type="text" placeholder="Nombre del servicio" id="nombre" name="nombre" value="${a}" required>\n                                            <label data-num="25" class="count-charts" for="">25</label>\n                                        </div>\n                                    </div>\n                                    \n                                    <div class="formulario__campo">\n                                        <label class="formulario__label" for="precio">Precio:</label>\n                                        <div class="formulario__dato">\n                                            <input class="formulario__input" type="number" placeholder="Precio del servicio" id="precio" name="precio" value="${o}" requiered>\n                                            <label for="">$</label>\n                                        </div>\n                                    </div>\n                                    <div class="formulario__campo">\n                                        <label class="formulario__label" for="duracion">Duracion:</label>\n                                        <div class="formulario__dato">\n                                            <input class="formulario__input" type="number" min="10" max="120" placeholder="Duracion en minutos del servicio" id="duracion" name="duracion" value="${n}" disabled>\n                                            <label for="">min</label>\n                                        </div>\n                                    </div>\n                                    <input class="formulario__submit--servicio" type="submit" value="Actualizar">\n                            </form>`,showCancelButton:!0,showConfirmButton:!1,cancelButtonText:"Cancelar"}),t())}})}),t(),console.log("hola desde servicio js"),document.querySelector(".alerta")&&setTimeout(()=>{document.querySelector(".alerta").remove()},5e3)}(),window.swiper=new Swiper("swiper",{el:".slider__contenido",slideClass:"slider__slide",createElements:!0,autoplay:{delay:5e3},loop:!0});
//# sourceMappingURL=bundle.js.map
