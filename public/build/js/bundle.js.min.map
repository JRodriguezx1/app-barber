{"version":3,"sources":["dashboard.js","administracion.js","citas.js","clientes.js","configuracion.js","creardcto.js","dash_cliente.js","dash_cliente_assign.js","detallepago.js","empleados.js","facturacion.js","fechadesc.js","fidelizacion.js","finalizcita.js","graficas.js","malla.js","paginaini.js","servicios.js","slider.js"],"names":["scrolnav","document","querySelectorAll","forEach","enlace","classList","contains","querySelector","firstElementChild","nextElementSibling","textContent","scrollIntoView","behavior","negocios","label","barra","bar","negocio","value","add","toFixed","style","width","btns_nav_empleados","Element","addEventListener","e","target","btn","remove","pagina","id","dia","this","checked","i","parentElement","children","disabled","entrada","puthoras","nextselect","firstChild","removeChild","subhora","split","hora","parseInt","option","createElement","appendChild","filtros","selectfiltro","selectfecha","crearcita","programar","idprofesional","options","selectedIndex","Swal","fire","customClass","title","html","showCancelButton","showConfirmButton","window","location","usuarios","servicios","emplserv","fechadesc","malla","citas","onlyfechadesc","onlymalla","onlycitas","horasdisponibles","horacitas","formulariocliente","titulo","submit","action","usuario","confirmButton","cancelButton","cargaservicios","selectservicios","element","nombre","cargarprofesionales","professionals","empleados","filter","idservicio","borrarhtml","selected","idempleado","dataset","inputfecha","fechaactual","Date","year","getFullYear","mes","getMonth","getDate","deshabilitarfecha","min","deshabilitarfechaanterior","eventofecha","evento","validarfechaydia","getUTCDay","fecha","empleado_id","cita","fecha_fin","estado","console","log","some","r2","id_dia","length","horario1","horario2","inicioturno","inidescanso","findescanso","finturno","map","substring","hora_fin","calcularhorarios","divhoras","divhora","parrafohora","onclick","seleccionarhora","imprimirhorashtml","gethoras","horaInicio","horaFin","horarioActual","horarioFinal","getHours","toString","padStart","minutos","getMinutes","includes","setTime","getTime","deshabilthoraprevia","elemento","url","respuesta","fetch","json","error","preventDefault","inputusuario","apellido","cargarusuarios","valstatus","previousElementSibling","tr","idcita","nameservice","namepro","fechacita","horacita","namecliente","selectservice","inputdate","cargarcita","crearcliente","editar","hab_desh","objform","movil","email","password","countchars","num","cadena","slice","mensaje","confirmButtonText","cancelButtonText","then","result","isConfirmed","arraymediospago","inputmediospago","btnbtnmediopago","resultado","input","r","find","mediopago","marcarmediospago","datos","FormData","append","method","body","imprimirmensaje","formhabilitarempleado","selectempleado","restriccion","radioadmin","formsetearpass","selectsetearpass","msjtext","tipo","ubicacion","insertBefore","setTimeout","color1","color2","categoria","product_serv","tipodcto","dcto1","dcto2","dcto2Valor","fechaini","valorservicio","imprimirvalor","valoringresado","Math","round","setDate","servicio","precio","max","fechafin","fechaposterior","profesionales","selectdate","eliminarcitas","eliminarcita","tiempocita","hoy","text","cancelarcita","select_date","obtenercitas","async","reservarcita","id_empserv","id_servicio","toLocaleTimeString","hour12","enviarcita","reload","setInterval","recibido","devolucion","fecha_pago","hora_pago","dcto","valordcto","valorpromo","valor_servicio","total","anularpagofact","actualizarfilacita","formulariofactura","divcampostags1","divcampostags2","tagselect1","tagselect2","tagsinputhidden1","tagsinputhidden2","selectemployee","eliminaremployee","empleadosapi","totalservicios","tags1","tags2","objservicio","mostrarservicio","nombreservicio","tagselect","divtag","span","icon","cargarselects","tag","actualizarinputhidden","borrarservicio","skill","empleado","href","departamento","ciudad","direccion","cargarempleado","calculo","valorservice","cargarvalorservicio","cargarservicios","obtenermediospago","mediospago","selectmediospago","cargarmediospago","viewdates","fechas","eliminarfecha","dates","limpiarfechas","div","parrafo","icondelete","imprimirfechas","eliminar","sendmsj","obj","nombreproducto","valorfinal","eventos","footer","finalizarcitas","valueservice","fincita","promodcto","valorpromodcto","promodctovalor","selectdcto","aplicarpromo","totalpagar","cargardatoscliente","inputtotalpagar","cierretotal","totalcitas","citasrealizadas","citascancelado","valorcitas","citas100","progreso","url1","respuesta1","resultado1","url2","respuesta2","resultado2","reverse","date","totaldia","reduce","facturacion","ctx","getElementById","getContext","Chart","type","data","labels","datasets","borderColor","backgroundColor","scales","y","beginAtZero","plugins","legend","display","printgrafica1","circle","strokeDashoffset","animacioncircle","putoptions","select","turnosemployee","horas","Array","radio","j","btnmenu","navmenu","toggle","tagName","eliminarservicio","duracion"],"mappings":"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","file":"bundle.js","sourcesContent":["document.addEventListener('DOMContentLoaded', function() {scrolnav(); });\r\n\r\nfunction scrolnav() {\r\n    const enlaces = document.querySelectorAll('.dashboard__menu a');  //selecicona el elemento nav y sus enelaces \r\n    enlaces.forEach( function(enlace){  //me recorre los enlaces del elemento NAV seleccionado \r\n        if(enlace.classList.contains('dashboard__enlace--actual')){\r\n            const seccion = document.querySelector('.'+enlace.firstElementChild.nextElementSibling.textContent);\r\n            seccion.scrollIntoView({behavior: 'smooth'});\r\n        } \r\n    });\r\n}","(function(){\r\n\r\n    //////////////////////bar progress //////////////////////\r\n    if(document.querySelector('.barraprogreso')){\r\n        const negocios = document.querySelectorAll('#negocio');\r\n        const label = document.querySelector('.barraprogreso__label');\r\n        const barra = document.querySelector('.barraprogreso__barra');\r\n\r\n        let bar = 0;\r\n        negocios.forEach(negocio=>{if(negocio.value)bar++;});\r\n        barra.classList.add('animation');\r\n        label.textContent = ((bar*100)/11).toFixed(1)+'%';\r\n        const animationbarra = document.querySelector('.animation');\r\n        animationbarra.style.width = label.textContent; //barra de progreso dinamicamente\r\n        //\r\n    }\r\n\r\n\r\n    /////////////////// paginacion de empleado, malla, actualizar-empleado //////////////////\r\n    if(document.querySelector('.cambiopaginas')){ //elemento en views/dash-cliente.php y en viewa/admin/adminconfig/index.php\r\n        \r\n        const btns_nav_empleados = document.querySelectorAll('.cambiopaginas span');\r\n        btns_nav_empleados[0].classList.add('resaltar'); //resaltamos el primer enlace o btn\r\n        if(document.querySelector('.perfil')){\r\n            document.querySelector('.pagina3').classList.add('mostrarseccion'); \r\n        }else{\r\n            document.querySelector('.pagina1').classList.add('mostrarseccion'); //mostramos la primera seccion\r\n        }\r\n        btns_nav_empleados.forEach(Element => {\r\n            Element.addEventListener('click', (e)=>{ //cada btn o enlace\r\n\r\n                if(!e.target.classList.contains('resaltar')){\r\n                    btns_nav_empleados.forEach(btn=>btn.classList.remove('resaltar'));\r\n                    e.target.classList.add('resaltar');\r\n                }\r\n\r\n                const paginas = document.querySelectorAll('.paginas'); //seleccionamos las secciones o paginas a mostrar\r\n                paginas.forEach(pagina => pagina.classList.remove('mostrarseccion')); ////quitamos la class mostrarseccion a todas las secciones\r\n                document.querySelector(`.${e.target.id}`).classList.add('mostrarseccion'); //añadimos la class mostrarseccion a la la seccion o pagina correspondiente\r\n            });\r\n        });\r\n    }\r\n    \r\n\r\n    ///////////////////// habilita/deshabiita inputs de los dias de la malla de turnos con el checkbox/////////////\r\n    const dias = document.querySelectorAll(\".dia input[type=checkbox]\");\r\n    dias.forEach(dia => {\r\n        dia.addEventListener('change', function(e){\r\n            if(this.checked){\r\n                for(let i=0; i<4; i++)\r\n                e.target.parentElement.nextElementSibling.children[i].disabled = false;\r\n            }else{ \r\n                for(let i=0; i<4; i++)\r\n                e.target.parentElement.nextElementSibling.children[i].disabled = true;\r\n            }\r\n        });\r\n    });\r\n\r\n\r\n    ////////////////////// carga de horas en los select de la malla////////////////////////\r\n    const entradas = document.querySelectorAll('#entrada');\r\n    entradas.forEach(entrada =>{\r\n        entrada.addEventListener('change', (e)=>{\r\n            let nextselect = e.target.nextElementSibling; //select siguiente\r\n            puthoras(nextselect, e);\r\n        });\r\n    });\r\n\r\n    function puthoras(nextselect, e){\r\n        while(nextselect.firstChild)nextselect.removeChild(nextselect.firstChild);\r\n        let subhora = e.target.value.split(':');\r\n        let hora = parseInt(subhora[0]+subhora[1]);\r\n\r\n        for(let i = 0; hora<2300; i++){\r\n            let option = document.createElement('OPTION');\r\n            hora+=30;\r\n            if(hora%100 == 60)hora+=40;\r\n            option.value = hora;\r\n            subhora[0]= parseInt(hora/100);\r\n            subhora[1] = hora%100;\r\n            if(subhora[1] === 0)subhora[1] = \"00\";\r\n            option.textContent = subhora[0]+':'+subhora[1];\r\n            nextselect.appendChild(option);\r\n        }\r\n        nextselect.addEventListener('change', (e)=>{\r\n            let nextselect = e.target.nextElementSibling; //select siguiente\r\n            if(nextselect)puthoras(nextselect, e);\r\n        });\r\n    }\r\n\r\n    //////////////// funcion contadores de caracteres /////////////////////\r\n    /*countchars();\r\n    function countchars(){\r\n        const numinput = document.querySelectorAll('.count-charts');  \r\n        numinput.forEach(element =>{ //element es cada label\r\n            element.textContent = element.dataset.num-element.previousElementSibling.value.length;\r\n            element.previousElementSibling.addEventListener('input', (e)=>{ //seleccionamos el input o el textarea en donde se escribe y se le da el evento de teclas\r\n                element.textContent = element.dataset.num-e.target.value.length;\r\n                  \r\n                if(element.dataset.num-e.target.value.length <= 0){\r\n                    let cadena = e.target.value.slice(0, element.dataset.num);\r\n                    e.target.value = cadena;\r\n                    element.textContent = 0;\r\n                }\r\n            });\r\n        });\r\n    }*/\r\n\r\n})();","(function(){\r\n\r\n    if(document.querySelector('#dashboardcitas')){//en admin/citas/index.php\r\n        \r\n        const filtros = document.querySelector('#filtros-personalizado');\r\n        const selectfiltro = document.querySelector('#selectprofesional');\r\n        const selectfecha = document.querySelector('#fecha'); //filtro de solo fechas\r\n        const crearcita = document.querySelector('#crearcita');\r\n        const programar = document.querySelectorAll('.programar');\r\n    \r\n        if(filtros){\r\n            filtros.addEventListener('click', ()=>{\r\n                let idprofesional = selectfiltro.options[selectfiltro.options.selectedIndex].value; //toma el id del select profesional\r\n        \r\n                if(idprofesional){\r\n                    Swal.fire({\r\n                        customClass: {\r\n                        //confirmButton: 'sweetbtnconfirm',\r\n                        // cancelButton: 'sweetbtncancel'\r\n                        },\r\n                        title: 'Consulta el profesional por fecha:',\r\n                        html: `<form class=\"formulario\" action=\"/admin/citas/consultaxprofesxfecha?pagina=1\" method=\"POST\">    \r\n                                    <div class=\"formulario__campo\">\r\n                                        <input class=\"formulario__input\" id=\"fecha\" type=\"date\" name=\"fecha\" value=\" \" required>\r\n                                    </div>\r\n                                    <input type=\"hidden\" name=\"profesional\" value=\"${idprofesional}\">\r\n                                    <input class=\"btnsmall\" type=\"submit\" value=\"Consultar\">\r\n                            </form>`,\r\n                        showCancelButton: false,\r\n                        showConfirmButton: false,\r\n                        //confirmButtonText: 'Aceptar',\r\n                        //cancelButtonText: 'Cancelar',\r\n                    })/*.then((result) => {\r\n                        if (result.isConfirmed) {\r\n                        Swal.fire('Actualizando', '', 'success')\r\n                        //modificar el servicio\r\n                        } \r\n                    })*/\r\n                }\r\n            });\r\n        }\r\n\r\n        selectfecha.addEventListener('input', e => {\r\n            /*(async ()=>{\r\n                const datos = new FormData();\r\n                datos.append('fecha', e.target.value);\r\n                try {\r\n                    const url = \"/admin/api/filtroxfecha\";\r\n                    const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                    const resultado = await respuesta.json();  \r\n                    console.log(resultado);\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();*/\r\n            window.location = `/admin/citas/filtroxfecha?pagina=1&fecha=${e.target.value}`;\r\n        });\r\n\r\n\r\n        /////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n        let horasdisponibles = [], horacitas = [];\r\n        //const divhoras = document.querySelector('#horas'); //donde se poenen las horas\r\n\r\n        let usuarios, servicios, emplserv, fechadesc, malla, citas;\r\n        let onlyfechadesc, onlymalla, onlycitas;\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/allclientes\"; //llamado a la API REST\r\n                const respuesta = await fetch(url); \r\n                usuarios = await respuesta.json(); \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n                \r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getservices\"; //llamado a la API REST\r\n                const respuesta = await fetch(url); \r\n                servicios = await respuesta.json(); \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getemployee_services\"; //llamado a la API REST para trer la relacion de los servicios con sus profesionales\r\n                const respuesta = await fetch(url); \r\n                emplserv = await respuesta.json(); \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getfechadesc\"; //llamado a la API REST para trer todas las fechas de descanso de todos los empleados.\r\n                const respuesta = await fetch(url); \r\n                fechadesc = await respuesta.json(); \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getmalla\"; //llamado a la API REST para trer toda la malla\r\n                const respuesta = await fetch(url); \r\n                malla = await respuesta.json();   \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getcitas\"; //llamado a la API REST para trer toda las citas desde la fecha actual hasta posterior\r\n                const respuesta = await fetch(url); \r\n                citas = await respuesta.json(); //se trae las citas de hoy\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        \r\n        crearcita.addEventListener('click', (e)=>{ ////crear cita\r\n            e.preventDefault();\r\n            const usuario = `<div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"usuario\">Seleccione Usuario: </label>\r\n                                <select class=\"formulario__select\" name=\"id_usuario\" id=\"usuario\" required>\r\n                                    <option value=\"\" disabled selected> -Selecionar- </option>\r\n                                </select>\r\n                            </div>`;\r\n            formulariocliente('Crear Cita', 'Crear', '/admin/citas/crear?pagina=1', usuario);\r\n            cargarusuarios();\r\n            cargaservicios();\r\n            eventofecha();\r\n        });\r\n        programar.forEach(element =>{\r\n            element.addEventListener('click', (e)=>{ ///programar cita\r\n                const valstatus = e.target.parentElement.parentElement.previousElementSibling.textContent;\r\n                const usuario = `<span class=\"namecliente\"></span><span id=\"horacita\"></span>\r\n                                <input type=\"hidden\" id=\"id\" name=\"id\" value=\"\" >`;\r\n                if(valstatus === \"Pendiente\" || valstatus === \"Out\")\r\n                {   formulariocliente('Reprogramar Cita A:', 'Enviar', '/admin/citas?pagina=1', usuario);\r\n                    cargarcita(e.target);\r\n                }\r\n            });\r\n        });\r\n        \r\n\r\n        function formulariocliente(titulo, submit, action, usuario){\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: titulo,\r\n                html: `<form class=\"formulario modalform\" action=\"${action}\" method=\"POST\">\r\n                            <input type=\"hidden\" id=\"id_empserv\" name=\"id_empserv\" value=\"\" >\r\n                            <input type=\"hidden\" id=\"hora_fin\" name=\"hora_fin\" value=\"\" >\r\n\r\n                            <div class=\"\">\r\n                                ${usuario}\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"servicios\">Seleccione Servicio: </label>\r\n                                    <select class=\"formulario__select\" name=\"idservicio\" id=\"servicios\" required>\r\n                                        <option value=\"\" disabled selected> -Selecionar- </option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"professionals\">Seleccione Profesional: </label>\r\n                                    <select class=\"formulario__select\" name=\"nameprofesional\" id=\"professionals\" required>\r\n                                        <option value=\"\" disabled selected> -Selecionar- </option>\r\n                                    </select>\r\n                                </div>\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"date\">Seleccionar Fecha:</label>\r\n                                    <input class=\"formulario__input\" id=\"date\" name=\"fecha_fin\" type=\"date\" disabled required>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"cliente__campohoras\" id=\"horas\">\r\n\r\n                            </div>\r\n                            <input class=\"clientes-btn\" type=\"submit\" value=\"${submit}\">\r\n                       </form>`,\r\n                showCancelButton: true,\r\n                showConfirmButton: false,  \r\n            });\r\n            //deshabilitarfechaanterior();\r\n        }\r\n\r\n\r\n        function cargarusuarios(){\r\n            const inputusuario = document.querySelector('#usuario');\r\n            usuarios.forEach(element => {\r\n                const option = document.createElement('OPTION');\r\n                option.value = element.id;\r\n                option.textContent = element.nombre+' '+element.apellido;\r\n                inputusuario.appendChild(option);\r\n            }); \r\n        }\r\n\r\n        function cargaservicios(){\r\n            const selectservicios = document.querySelector('#servicios');\r\n            servicios.forEach(element => {\r\n                const option = document.createElement('OPTION');\r\n                option.value = element.id; //id de la tabla servicio\r\n                option.textContent = element.nombre;\r\n                selectservicios.appendChild(option);\r\n            });\r\n            selectservicios.addEventListener('change', e=>cargarprofesionales(e.target.value));\r\n        }\r\n\r\n        function cargarprofesionales(id){\r\n            const professionals = document.querySelector('#professionals');\r\n            const empleados = emplserv.filter(Element => Element.idservicio === id);\r\n            borrarhtml(professionals);\r\n            document.querySelector('#date').disabled = true;\r\n            borrarhtml(document.querySelector('#horas'));\r\n            const option = document.createElement('OPTION');\r\n            option.value = '';\r\n            option.textContent = ' -Selecionar- ';\r\n            option.selected = true;\r\n            option.disabled = true;\r\n            professionals.appendChild(option);\r\n            empleados.forEach(element => {\r\n                const option = document.createElement('OPTION');\r\n                option.value = element.idempleado; //id de la tabla empleados\r\n                option.textContent = element.nombre;\r\n                option.dataset.id = element.id;  //id de la tabla empserv\r\n                professionals.appendChild(option); \r\n            });\r\n            professionals.addEventListener('change', (e)=>{\r\n                document.querySelector('#date').disabled = false;\r\n                document.querySelector('#date').value = '';\r\n                deshabilitarfechaanterior();\r\n                borrarhtml(document.querySelector('#horas')); //borra en donde se ponen las horas\r\n            });\r\n        }\r\n\r\n        function eventofecha(){\r\n            const select_date = document.querySelector('#date');\r\n            select_date.addEventListener('input', (evento)=> {\r\n                /////////borrar el campo de las horas//////////\r\n                const divhoras = document.querySelector('#horas'); //donde se ponen las horas\r\n                borrarhtml(divhoras);\r\n                \r\n                const dia = new Date(evento.target.value); //.getUTCDay();  = se estrae el dia de la semana\r\n                validarfechaydia(evento.target.value, dia.getUTCDay());\r\n            });\r\n        }\r\n\r\n        \r\n        function validarfechaydia(fecha, dia){\r\n            //al seleccionar fecha ya se ha seleccionado el profesional, y el profesional me contiene su id y el id de la tabla empserv\r\n            const professionals = document.querySelector('#professionals');\r\n            const idempleado = professionals.options[professionals.options.selectedIndex].value;\r\n             ////cargar el input type hidden name=id_empserv\r\n             document.querySelector('#id_empserv').value = professionals.options[professionals.options.selectedIndex].dataset.id;\r\n\r\n            onlymalla = malla[`empleado_${idempleado}`]; //obtiene solo la malla de ese empleado\r\n            onlyfechadesc = fechadesc.filter(element => idempleado === element.empleado_id);\r\n            onlycitas = citas.filter(cita => (cita.idempleado === idempleado&&cita.fecha_fin === fecha&&cita.estado === \"Pendiente\")); //obtengo las citas deacuerdo al profesional y fecha seleccionada y pendiente\r\n            console.log(citas);\r\n            const r1 = onlyfechadesc.some(element => element.fecha === fecha);\r\n            if(r1){\r\n                Swal.fire(\r\n                    'Este dia no esta disponible!',\r\n                    'You clicked the button!',\r\n                    'error'\r\n                  )\r\n            }else{\r\n                const r2 = onlymalla.filter(element => element.id_dia == (dia===0?7:dia));\r\n                if(r2.length){ //es pq el dia si esta en la malla\r\n                    gethoras(r2[0]); //se envia solo el dia seleccionado (obj)\r\n                }\r\n                else{ //dia no esta en la malla\r\n                    Swal.fire(\r\n                        'Este dia no esta disponible!',\r\n                        'You clicked the button!',\r\n                        'error'\r\n                    )\r\n                }\r\n            }\r\n        }\r\n\r\n        function gethoras(r2){\r\n            let horario1 = [], horario2 = [];\r\n\r\n            horario1 = [...horario1, r2.inicioturno, r2.inidescanso];\r\n            horario2 = [...horario2, r2.findescanso, r2.finturno];\r\n\r\n            // me traigo un arreglo de la tabla citas de la DB con su hora segun fecha seleccionada y profesional seleccionado\r\n            //// comparo cada hora del arreglo traio con r2.iniciodescanso y si es menor lo agrego al arreglo horario1\r\n            ///luego comparo con r2.finturno y si es mayor lo agrego a arreglo horario2\r\n\r\n            horario1 = horario1.map(element =>{\r\n                element = element.substring(0,2)+':'+element.substring(2,4);\r\n                return element;\r\n            });\r\n            horario2 = horario2.map(element =>{\r\n                element = element.substring(0,2)+':'+element.substring(2,4);\r\n                return element;\r\n            });\r\n            //horacitas = onlycitas.map(element =>  element.hora_fin.slice(3)); //obtengo las horas formato 24 de la bd segun fecha y profesional\r\n            horacitas = onlycitas.map(element =>  element.hora_fin);\r\n\r\n            for(let i = 0; i<horario1.length-1; i++){\r\n            calcularhorarios(horario1[i], horario1[i+1]);\r\n            }\r\n            for(let i = 0; i<horario2.length-1; i++)\r\n            calcularhorarios(horario2[i], horario2[i+1]);\r\n            \r\n           console.log(horasdisponibles);\r\n           //podemos validar horasdisponibles si esta vacio es pq no hay espacion o agenda llena\r\n           //mostrar alerta y no permitir pedir cita, por ahora se valida en backend\r\n           imprimirhorashtml();\r\n        }\r\n\r\n        function calcularhorarios(horaInicio, horaFin) {\r\n            const horarioActual = new Date(`01/01/2000 ${horaInicio}`);\r\n            const horarioFinal = new Date(`01/01/2000 ${horaFin}`);\r\n          \r\n            while (horarioActual < horarioFinal) {\r\n              const hora = horarioActual.getHours().toString().padStart(2, '0');\r\n              const minutos = horarioActual.getMinutes().toString().padStart(2, '0');\r\n              //console.log(`${hora}:${minutos}`);\r\n              const validate = horacitas.includes(`${hora}:${minutos}`);\r\n              if(!validate){\r\n                  //hora1 = ${hora}:${minutos};\r\n                  //horatemp = hora1; + min-servicio, \r\n                  //preguntar si horatemp es menor o igual al elemento del arreglo horacitas\r\n                  //si es si\r\n                  //imprimir hora1, hacer hora1 = horatemp;\r\n                  //si es no\r\n                  //hora1 = elemento del arreglo + su duracion-serv\r\n                  //aumentar en uno al arreglo de horacitas\r\n                  //valido arribo si es si, vuelvo y repito esto\r\n\r\n              horasdisponibles = [...horasdisponibles, `${hora}:${minutos}`];\r\n              }\r\n          \r\n              horarioActual.setTime(horarioActual.getTime() + 30 * 60000); // Agregar 30 minutos al horario actual, 60.000 milisegundos tiene un minuto\r\n            }\r\n        }\r\n\r\n        function imprimirhorashtml(){\r\n            const divhoras = document.querySelector('#horas'); //donde se ponen las horas\r\n            horasdisponibles.forEach(hora => {\r\n                const divhora = document.createElement('DIV');\r\n                divhora.classList.add(\"cliente__hora\");\r\n                const parrafohora = document.createElement('P');\r\n                parrafohora.textContent = hora;\r\n                //parrafohora.dataset.hora = hora.replace(':', '');\r\n                parrafohora.dataset.hora = hora;\r\n                parrafohora.onclick = seleccionarhora;\r\n                parrafohora.classList.add(\"texthora\");\r\n                divhora.appendChild(parrafohora);\r\n                divhoras.appendChild(divhora);\r\n            });\r\n        }\r\n\r\n        function seleccionarhora(e){\r\n            const deshabilthoraprevia = document.querySelector('.horaselect');\r\n            if(deshabilthoraprevia)\r\n                deshabilthoraprevia.classList.remove('horaselect');\r\n            e.target.parentElement.classList.add('horaselect'); //class agregada en dash-cliente/_cliente.scss\r\n            //cargar el input type hidden name = hora_fin del formulario para el envio\r\n            document.querySelector('#hora_fin').value = e.target.textContent;\r\n        }\r\n\r\n        //////////////////////////////reprogramar//////////////////////////////////\r\n\r\n\r\n        function cargarcita(element){\r\n            cargaservicios();\r\n            const tr = element.parentElement.parentElement.parentElement;\r\n            const idcita = tr.children[0].textContent;\r\n            const nombre = tr.children[1].textContent;\r\n            const nameservice = tr.children[3].textContent;\r\n            const namepro = tr.children[4].textContent;\r\n            const fechacita = tr.children[5].textContent;\r\n            const horacita = tr.children[6].textContent;\r\n            const namecliente = document.querySelector('.namecliente');\r\n            const selectservice = document.querySelector('#servicios'); //del formulario de arriba\r\n            const professionals = document.querySelector('#professionals'); //del formulario de arriba\r\n            const inputdate = document.querySelector('#date'); //del formulario de arriba\r\n\r\n            namecliente.textContent = nombre+' - ';\r\n            document.querySelector('#horacita').textContent = horacita;\r\n            document.querySelector('#id').value = idcita;\r\n            document.querySelector('#hora_fin').value = horacita;\r\n            \r\n            for(let i = 0; i<selectservice.options.length; i++)\r\n                if(selectservice.options[i].textContent === nameservice)\r\n                    selectservice.options[i].selected = true;\r\n\r\n            const id = selectservice.options[selectservice.options.selectedIndex].value;\r\n            cargarprofesionales(id);\r\n\r\n            for(let i = 0; i<professionals.options.length; i++){\r\n                if(professionals.options[i].textContent === namepro){\r\n                    professionals.options[i].selected = true;\r\n                    document.querySelector('#id_empserv').value = professionals.options[i].dataset.id; //se carga el id_empserv\r\n                }\r\n            }\r\n\r\n            inputdate.value = fechacita;\r\n            eventofecha();\r\n\r\n            const dia = new Date(fechacita);\r\n            validarfechaydia(fechacita, dia.getUTCDay());\r\n        }\r\n        \r\n\r\n        function borrarhtml(elemento){\r\n            horasdisponibles = [];\r\n            while(elemento.firstElementChild)elemento.removeChild(elemento.firstElementChild);\r\n        }\r\n\r\n\r\n        function deshabilitarfechaanterior(){\r\n            const inputfecha = document.querySelector('#date');\r\n            const fechaactual = new Date();  //en fecha actual esta la fecha actual con hora\r\n            const year = fechaactual.getFullYear(); // obiene el año actual\r\n            const mes = fechaactual.getMonth() + 1;  //obtiene el mes\r\n            const dia = fechaactual.getDate(); //obitien el dia actual se le suma el dia siguiente\r\n            let deshabilitarfecha = `${year}-${mes}-${dia}`;\r\n            if(mes<10){ deshabilitarfecha = `${year}-0${mes}-${dia}`; }\r\n            if(mes<10&&dia<10){ deshabilitarfecha = `${year}-0${mes}-0${dia}`; }\r\n            if(mes>=10&&dia<10){ deshabilitarfecha = `${year}-${mes}-0${dia}`; }\r\n            inputfecha.min = deshabilitarfecha; //al input fecha se le agrega atributo min\r\n        }\r\n\r\n    }\r\n\r\n})();","(function(){\r\n    if(document.querySelector('.clientes')){\r\n        const crearcliente = document.querySelector('#crearcliente');\r\n        const editar = document.querySelectorAll('#editar');\r\n        const hab_desh = document.querySelectorAll('#hab_desh');\r\n        let objform = {\r\n            titulo: '',\r\n            url: '',\r\n            submit: '',\r\n            nombre: '',\r\n            apellido: '',\r\n            movil: '',\r\n            email: ''\r\n        }\r\n\r\n        crearcliente.addEventListener('click', ()=>{\r\n            objform.titulo = 'Crear Cliente Nuevo';\r\n            objform.url = '/admin/clientes/crear';\r\n            objform.submit = 'Crear Cliente';\r\n            objform.nombre = '';\r\n            objform.apellido = '';\r\n            objform.movil = '';\r\n            objform.email = '';\r\n            objform.password = `<div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"password\">Password</label>\r\n                                    <div class=\"formulario__dato\">\r\n                                        <input class=\"formulario__input\" type=\"password\" placeholder=\"Password del cliente\" id=\"password\" name=\"password\" required>\r\n                                        <label data-num=\"12\" class=\"count-charts\" for=\"\">12</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"password2\">Repetir Password</label>\r\n                                    <div class=\"formulario__dato\">\r\n                                        <input class=\"formulario__input\" type=\"password\" placeholder=\"Repetir Password\" id=\"password2\" name=\"password2\" required>\r\n                                        <label data-num=\"12\" class=\"count-charts\" for=\"\">12</label>\r\n                                    </div>\r\n                                </div>`;\r\n            formulariocliente(objform, 0);\r\n            countchars();\r\n        });\r\n\r\n        editar.forEach(Element => {\r\n            Element.addEventListener('click', (e)=>{\r\n                objform.titulo = 'Actualizar Cliente';\r\n                objform.url = '/admin/clientes/actualizar';\r\n                objform.submit = 'Actualizar';\r\n                const tr = e.target.parentElement.parentElement.parentElement;\r\n                objform.nombre = tr.children[1].textContent;\r\n                objform.apellido = tr.children[2].textContent;\r\n                objform.movil = tr.children[3].textContent;\r\n                objform.email = tr.children[4].textContent;\r\n                objform.password = '';\r\n                formulariocliente(objform, e.target.parentElement.dataset.id);\r\n                countchars();\r\n            });\r\n        });//cierre del foreach\r\n\r\n\r\n        function formulariocliente(objform, id){\r\n            let { titulo, url, submit, nombre, apellido, movil, email, password} = objform;\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: titulo,\r\n                html: `<form class=\"formulario modalform\" action=\"${url}\" method=\"POST\">\r\n                            <input type=\"hidden\" name=\"id\" value=\"${id}\" >\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"nombre\">Nombre:</label>\r\n                                <div class=\"formulario__dato\">\r\n                                    <input class=\"formulario__input\" type=\"text\" placeholder=\"Nombre del cliente\" id=\"nombre\" name=\"nombre\" value=\"${nombre}\" required>\r\n                                    <label data-num=\"42\" class=\"count-charts\" for=\"\">42</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"apellido\">Apellido:</label>\r\n                                <div class=\"formulario__dato\">\r\n                                    <input class=\"formulario__input\" type=\"text\" placeholder=\"Apellido del cliente\" id=\"apellido\" name=\"apellido\" value=\"${apellido}\" required>\r\n                                    <label data-num=\"42\" class=\"count-charts\" for=\"\">42</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"movil\">Movil</label>\r\n                                <div class=\"formulario__dato\">\r\n                                    <input class=\"formulario__input\" type=\"number\" placeholder=\"Movil del cliente\" id=\"movil\" name=\"movil\" value=\"${movil}\" required>\r\n                                    <label data-num=\"10\" class=\"count-charts\" for=\"\">10</label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"email\">Email</label>\r\n                                <div class=\"formulario__dato\">\r\n                                    <input class=\"formulario__input\" type=\"email\" placeholder=\"Email del cliente\" id=\"email\" name=\"email\" value=\"${email}\" required>\r\n                                    <label data-num=\"40\" class=\"count-charts\" for=\"\">40</label>\r\n                                </div>\r\n                            </div>\r\n                            ${password}\r\n                            <input class=\"clientes-btn\" type=\"submit\" value=\"${submit}\">\r\n                       </form>`,\r\n                showCancelButton: false,\r\n                showConfirmButton: false,  \r\n            });\r\n        }\r\n\r\n        /////////////// eliminar cliente ////////////////\r\n\r\n        hab_desh.forEach(element => {\r\n            element.addEventListener('click', (e)=>{\r\n\r\n                let mensaje = \"Desea bloquear el cliente?\";\r\n                if(e.target.classList.contains('habilitar'))mensaje = \"Desea habilitar el cliente?\";\r\n\r\n                const id = e.target.parentElement.dataset.id;\r\n                Swal.fire({\r\n                    customClass: {\r\n                        confirmButton: 'sweetbtnconfirm',\r\n                        cancelButton: 'sweetbtncancel'\r\n                    },\r\n                    title: mensaje,\r\n                    showCancelButton: true,\r\n                    confirmButtonText: 'Si',\r\n                    cancelButtonText: 'No',\r\n                    \r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        window.location = `/admin/clientes/hab_desh?id=${id}`;\r\n                    } \r\n                })\r\n            });\r\n        });\r\n    \r\n        //////////////// funcion contadores de caracteres /////////////////////\r\n        //countchars();\r\n        function countchars(){\r\n            const numinput = document.querySelectorAll('.count-charts');  \r\n            numinput.forEach(element =>{ //element es cada label\r\n                element.textContent = element.dataset.num-element.previousElementSibling.value.length;\r\n                element.previousElementSibling.addEventListener('input', (e)=>{ //seleccionamos el input o el textarea en donde se escribe y se le da el evento de teclas\r\n                    element.textContent = element.dataset.num-e.target.value.length;\r\n                      \r\n                    if(element.dataset.num-e.target.value.length <= 0){\r\n                        let cadena = e.target.value.slice(0, element.dataset.num);\r\n                        e.target.value = cadena;\r\n                        element.textContent = 0;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n    }\r\n})();","(function(){\r\n    if(document.querySelector('.pagina5')){\r\n        let arraymediospago = [];\r\n        const inputmediospago = document.querySelectorAll('.mediospago__mediopago input[type=\"checkbox\"]');\r\n        const btnbtnmediopago = document.querySelector('#btnmediopago');\r\n        \r\n\r\n        (async()=>{\r\n            try {\r\n                const url = \"/admin/api/getmediospago\";\r\n                const respuesta = await fetch(url);\r\n                const resultado = await respuesta.json();\r\n                marcarmediospago(resultado);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        function marcarmediospago(resultado){\r\n            inputmediospago.forEach(input =>{\r\n                const r = resultado.find(mediopago=>mediopago.id == input.value); //retorna el obj que conside\r\n                if(r.estado === '1'){ //r es el obj retornado\r\n                    input.checked = true;\r\n                    arraymediospago = [...arraymediospago, r.id];\r\n                } \r\n            });\r\n        }\r\n\r\n        inputmediospago.forEach(input =>{\r\n            input.addEventListener('change', (e)=>{\r\n                if(e.target.checked){\r\n                    arraymediospago = [...arraymediospago, e.target.value];\r\n                }else{\r\n                    arraymediospago = arraymediospago.filter(Element=>Element!=e.target.value);\r\n                }\r\n            });     \r\n        });\r\n\r\n        btnbtnmediopago.addEventListener('click', ()=>{\r\n            (async ()=>{\r\n                const datos = new FormData();\r\n                datos.append('ids', arraymediospago);\r\n                try {\r\n                    const url = \"/admin/api/setmediospago\";\r\n                    const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                    const resultado = await respuesta.json();  \r\n                    if(resultado){\r\n                        imprimirmensaje(\"Medios de pago actualizados\", 'alerta__exito', document.querySelector('.mediospago'));\r\n                    }else{\r\n                        imprimirmensaje(\"Se produjo un error intentalo nuevamente\", 'alerta__error', document.querySelector('.mediospago'));   \r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        });\r\n        ////////************************fin medios de pago*************************//////////\r\n\r\n        const formhabilitarempleado = document.querySelector('#formhabilitarempleado');\r\n        const selectempleado = document.querySelector('#dardealtaselectempleado');\r\n        \r\n        selectempleado.addEventListener('change', (e)=>{\r\n            const restriccion = e.target.options[e.target.options.selectedIndex].dataset.restriccion;\r\n            if(document.querySelector('.creacioncuentas__habilitaremp input[name=\"admin\"]:checked'))document.querySelector('.creacioncuentas__habilitaremp input[name=\"admin\"]:checked').checked = false;\r\n            if(restriccion==2)document.querySelector('.creacioncuentas__habilitaremp #roladmin').checked = true;\r\n            if(restriccion==1)document.querySelector('.creacioncuentas__habilitaremp #rolempleado').checked = true;\r\n        });\r\n\r\n        formhabilitarempleado.addEventListener('submit', (e)=>{\r\n            e.preventDefault();\r\n            const radioadmin = document.querySelector('input[name=\"admin\"]:checked').value;\r\n            const idempleado = selectempleado.options[selectempleado.options.selectedIndex].value;\r\n\r\n            (async ()=>{\r\n                const datos = new FormData();\r\n                datos.append('idempleado', idempleado);\r\n                datos.append('tiporol', radioadmin);\r\n                try {\r\n                    const url = \"/admin/api/habilitarempleado\";\r\n                    const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                    const resultado = await respuesta.json();  \r\n                    if(resultado){\r\n                        selectempleado.options[selectempleado.options.selectedIndex].dataset.restriccion = radioadmin;\r\n                        imprimirmensaje(\"Empleado dado de alta en sistema administrativo\", 'alerta__exito', document.querySelector('.creacioncuentas__habilitaremp'));\r\n                    }else{\r\n                        imprimirmensaje(\"Se produjo un error intentalo nuevamente\", 'alerta__error', document.querySelector('.creacioncuentas__habilitaremp'));   \r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        });\r\n        ////////*****************fin habilitar empleados*******************//////////\r\n\r\n        const formsetearpass = document.querySelector('#formsetearpass');\r\n        const selectsetearpass = document.querySelector('#selectsetearpass');\r\n\r\n        formsetearpass.addEventListener('submit', (e)=>{\r\n            e.preventDefault();\r\n            const idempleado = selectsetearpass.options[selectsetearpass.options.selectedIndex].value;\r\n            (async ()=>{\r\n                const datos = new FormData();\r\n                datos.append('idempleado', idempleado);\r\n                try {\r\n                    const url = \"/admin/api/setearpass\";\r\n                    const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                    const resultado = await respuesta.json(); \r\n                    console.log(resultado);\r\n                    if(resultado){\r\n                        imprimirmensaje(\"Password reiniciado por defecto\", 'alerta__exito', document.querySelector('.creacioncuentas__setearpass'));\r\n                    }else{\r\n                        imprimirmensaje(\"Se produjo un error intentalo nuevamente\", 'alerta__error', document.querySelector('.creacioncuentas__setearpass'));   \r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        });\r\n        //////////*****************fin Setear Password******************//////////\r\n\r\n        const formcolores = document.querySelector('#formcolores');\r\n        formcolores.addEventListener('submit', (e)=>{\r\n            e.preventDefault();\r\n            const color1 = document.querySelector('.coloresapp #principal').value;\r\n            const color2 = document.querySelector('.coloresapp #secundario').value;\r\n            (async ()=>{\r\n                const datos = new FormData();\r\n                datos.append('colorprincipal', color1);\r\n                datos.append('colorsecundario', color2);\r\n                try {\r\n                    const url = \"/admin/api/coloresapp\";\r\n                    const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                    const resultado = await respuesta.json(); \r\n                    console.log(resultado);\r\n                    if(resultado){\r\n                        imprimirmensaje(\"Colores establecidos exitosamente\", 'alerta__exito', document.querySelector('.coloresapp'));\r\n                    }else{\r\n                        imprimirmensaje(\"Se produjo un error intentalo nuevamente\", 'alerta__error', document.querySelector('.coloresapp'));   \r\n                    }\r\n                } catch (error) {\r\n                    console.log(error);\r\n                }\r\n            })();\r\n        });\r\n\r\n        //////////*****************fin definir colores app******************//////////\r\n\r\n\r\n        function imprimirmensaje(msjtext, tipo, ubicacion){ //muestra mensaje de exito o error\r\n            const mensaje = document.createElement('P');\r\n            mensaje.textContent = msjtext;\r\n            mensaje.classList.add('alerta', tipo);\r\n            ubicacion.insertBefore(mensaje, ubicacion.querySelector('.configuracion__heading'));\r\n            setTimeout(() => {\r\n                document.querySelector('.alerta').remove();\r\n            }, 5000);\r\n        }\r\n    }  //fin pagina 5 = configuracion\r\n})();","(function(){\r\n    if(document.querySelector('.creardescuento')){ //crear dcto en admin/fidelizacion\r\n        \r\n        const categoria = document.querySelector('#categoria');\r\n        const product_serv = document.querySelector('#product_serv');\r\n        const tipodcto = document.querySelector('#tipo');\r\n        const dcto1 = document.querySelector('#dcto1');\r\n        const dcto2 = document.querySelector('#dcto2');\r\n        const dcto2Valor = document.querySelector('#dcto2Valor');\r\n        const fechaini = document.querySelector('#fecha_ini');\r\n        let servicios, valorservicio;\r\n\r\n        deshabilitarfechaanterior();\r\n\r\n        (async()=>{\r\n            try {\r\n                const url = \"/admin/api/getservices\"; //llamado a la API REST para trer todos los servicios\r\n                const respuesta = await fetch(url); \r\n                servicios = await respuesta.json();   \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        categoria.addEventListener('change', (e)=>{\r\n            borrarhtml(product_serv);\r\n            const option = document.createElement('OPTION');\r\n            option.value = '';\r\n            option.textContent = 'Seleccionar Producto';\r\n            product_serv.appendChild(option);\r\n            tipodcto.disabled = true;\r\n            dcto1.disabled = true;\r\n            if(e.target.value == \"servicios\"){\r\n                servicios.forEach(servicio => {\r\n                    const option = document.createElement('OPTION');\r\n                    option.value = servicio.id;\r\n                    option.textContent = servicio.nombre;\r\n                    product_serv.appendChild(option);\r\n                });\r\n            }\r\n            if(e.target.value == \"productos\"){\r\n\r\n            }\r\n        });\r\n\r\n        product_serv.addEventListener('change', (e)=>{\r\n            const servicio = servicios.filter(servicio => servicio.id == e.target.value);\r\n            valorservicio = servicio[0].precio;\r\n            document.querySelector('#valorservicio').textContent = '$ '+valorservicio;\r\n            tipodcto.disabled = false;\r\n            imprimirvalor(dcto1.value);\r\n        });\r\n\r\n        tipodcto.addEventListener('change', (e)=>{\r\n            if(e.target.value == 'porcentaje'){\r\n                dcto1.min = 0;\r\n                dcto1.max = 100;\r\n                dcto2Valor.textContent = \"Valor\";\r\n            }\r\n            if(e.target.value == 'valor'){\r\n                dcto1.min = 0;\r\n                dcto1.max = valorservicio;\r\n                dcto2Valor.textContent = \"Valor (%)\";\r\n            }\r\n            dcto1.disabled = false;\r\n            imprimirvalor(dcto1.value);\r\n        });\r\n\r\n        dcto1.addEventListener('input', (e)=>{\r\n            imprimirvalor(e.target.value);  \r\n        });\r\n\r\n        function imprimirvalor(valoringresado){\r\n            if(tipodcto.options[tipodcto.options.selectedIndex].value == 'porcentaje'){\r\n                if(valoringresado>100)dcto1.value = 100;\r\n                if(valoringresado<0)dcto1.value = 0;\r\n                dcto2.value = Math.round((valorservicio*dcto1.value)/100);\r\n            }\r\n            if(tipodcto.options[tipodcto.options.selectedIndex].value == 'valor'){\r\n                if(valoringresado>parseInt(valorservicio))dcto1.value = valorservicio;\r\n                if(valoringresado<0)dcto1.value = 0;\r\n                dcto2.value = Math.round((dcto1.value*100)/valorservicio);\r\n            }  \r\n        }\r\n\r\n        function borrarhtml(elemento){\r\n            horasdisponibles = [];\r\n            while(elemento.firstElementChild)elemento.removeChild(elemento.firstElementChild);\r\n        }\r\n\r\n        fechaini.addEventListener('change', (e)=>{\r\n            const fechafin = document.querySelector('#fecha_fin');\r\n            fechafin.disabled = false;\r\n            const fechaposterior = new Date(e.target.value);\r\n            fechaposterior.setDate(fechaposterior.getDate()+2);\r\n            const year = fechaposterior.getFullYear();\r\n            const mes = fechaposterior.getMonth() + 1;\r\n            const dia = fechaposterior.getDate();\r\n            let deshabilitarfecha = `${year}-${mes}-${dia}`;\r\n            if(mes<10&&dia<10){ deshabilitarfecha = `${year}-0${mes}-0${dia}`; }\r\n            if(mes<10&&dia>=10){ deshabilitarfecha = `${year}-0${mes}-${dia}`; }\r\n            if(mes>=10&&dia<10){ deshabilitarfecha = `${year}-${mes}-0${dia}`; }\r\n            fechafin.min = deshabilitarfecha; \r\n        });\r\n\r\n        //////////////////// deshabilitar fecha anterior ////////////////////\r\n\r\n        function deshabilitarfechaanterior(){\r\n            const fechaactual = new Date();  //en fecha actual esta la fecha actual con hora\r\n           \r\n            fechaactual.setDate(fechaactual.getDate() + 1);\r\n            const year = fechaactual.getFullYear();\r\n            const mes = fechaactual.getMonth() + 1;\r\n            const dia = fechaactual.getDate();\r\n            let deshabilitarfecha = `${year}-${mes}-${dia}`;\r\n            \r\n            if(mes<10&&dia<10){ deshabilitarfecha = `${year}-0${mes}-0${dia}`; }\r\n            if(mes<10&&dia>=10){ deshabilitarfecha = `${year}-0${mes}-${dia}`; }\r\n            if(mes>=10&&dia<10){ deshabilitarfecha = `${year}-${mes}-0${dia}`; }\r\n\r\n            fechaini.min = deshabilitarfecha; //al input fecha se le agrega atributo min\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n    if(document.querySelector('#dash-cliente')){\r\n        \r\n        const servicio = document.querySelector('#servicio');\r\n        const profesionales = document.querySelector('#profesional');\r\n        const selectdate = document.querySelector('#date');\r\n        //const programar = document.querySelectorAll('.programar');\r\n        const eliminarcitas = document.querySelectorAll('#cancelado');\r\n        selectdate.disabled = true;\r\n        let emplserv;\r\n                \r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getemployee_services\"; //llamado a la API REST para trer la relacion de los servicios con sus profesionales\r\n                const respuesta = await fetch(url); \r\n                emplserv = await respuesta.json(); \r\n                   \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n\r\n        deshabilitarfechaanterior();\r\n\r\n        servicio.addEventListener('change', (e)=>{\r\n            selectdate.disabled = true;\r\n            const empleados = emplserv.filter(Element => Element.idservicio === e.target.value);\r\n            borrarhtml(profesionales);\r\n            borrarhtml(document.querySelector('#horas'));\r\n            const option = document.createElement('OPTION');\r\n            option.value = '';\r\n            option.textContent = ' -Selecionar- ';\r\n            option.selected = true;\r\n            option.disabled = true;\r\n            profesionales.appendChild(option);\r\n            empleados.forEach(element => {\r\n                const option = document.createElement('OPTION');\r\n                option.value = element.idempleado;  //id de la tabla empleados\r\n                option.textContent = element.nombre;\r\n                option.dataset.id = element.id;   //id de la tabla empserv\r\n                profesionales.appendChild(option);\r\n            });\r\n        });\r\n\r\n        function deshabilitarfechaanterior(){\r\n            const fecha = document.querySelector('#date');\r\n            const fechaactual = new Date();  //en fecha actual esta la fecha actual con hora\r\n            /*const year = fechaactual.getFullYear(); // obiene el año actual\r\n            const mes = fechaactual.getMonth() + 1;  //obtiene el mes\r\n            const dia = fechaactual.getDate(); //obitien el dia actual se le suma el dia siguiente\r\n            let deshabilitarfecha = `${year}-${mes}-${dia}`;\r\n            */\r\n           \r\n            fechaactual.setDate(fechaactual.getDate() + 1);\r\n            const year = fechaactual.getFullYear();\r\n            const mes = fechaactual.getMonth() + 1;\r\n            const dia = fechaactual.getDate();\r\n            let deshabilitarfecha = `${year}-${mes}-${dia}`;\r\n            \r\n            if(mes<10&&dia<10){ deshabilitarfecha = `${year}-0${mes}-0${dia}`; }\r\n            if(mes<10&&dia>=10){ deshabilitarfecha = `${year}-0${mes}-${dia}`; }\r\n            if(mes>=10&&dia<10){ deshabilitarfecha = `${year}-${mes}-0${dia}`; }\r\n\r\n            fecha.min = deshabilitarfecha; //al input fecha se le agrega atributo min\r\n        }\r\n\r\n        function borrarhtml(elemento){\r\n            horasdisponibles = [];\r\n            while(elemento.firstElementChild)elemento.removeChild(elemento.firstElementChild);\r\n        }\r\n\r\n        eliminarcitas.forEach(eliminarcita =>{\r\n            eliminarcita.addEventListener('click', (e)=>{\r\n                const tr = e.target.parentElement.parentElement.parentElement;\r\n                const fechacita = tr.children[2].textContent;\r\n                const horacita = tr.children[3].textContent;\r\n                const estado = tr.children[6].textContent;\r\n\r\n                //var fecha1 = new Date(fechacita+\"T00:00:00-05:00\");\r\n                let tiempocita = new Date(fechacita+\"T\"+horacita);\r\n                let hoy = new Date();\r\n\r\n                if(estado === \"Pendiente\"){\r\n                    if((tiempocita-hoy)>=3600000)\r\n                        cancelarcita(e.target.parentElement.dataset.id, tr.children[6]);\r\n                }  \r\n            });\r\n        });\r\n\r\n\r\n        function cancelarcita(id, estado){ //funcion para cancelar la cita, se ejecuta si la cita esta a mas de una hora de cumplirse\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Desea Cancelar La Cita?',\r\n                text: \"SE CANCELARA LA CITA, PUEDES SOLICITAR UNA NUEVA CUANDO LO DESEES.\",\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Si',\r\n                cancelButtonText: 'No',\r\n                \r\n            }).then((result) => {\r\n                if (result.isConfirmed){ \r\n                    (async ()=>{\r\n                        try {\r\n                            const url = `/admin/api/cancelarcita?id=${id}`;\r\n                            const respuesta = await fetch(url); \r\n                            const resultado = await respuesta.json();  \r\n                            if(resultado){\r\n                                estado.textContent = \"Cancelado\"; \r\n                                //borrar el div donde esta los horarios disponibles\r\n                                Swal.fire('Cita Cancelada', '', 'success')\r\n                            }\r\n                        } catch (error) {\r\n                            console.log(error);\r\n                        }\r\n                    })(); \r\n                } \r\n            })\r\n        }\r\n\r\n\r\n        /*\r\n        programar.forEach(element => { //bloque para reprogramar cita desde el dashboard del cliente\r\n            element.addEventListener('click', e=>{\r\n                Swal.fire({\r\n                    customClass: {\r\n                        confirmButton: 'sweetbtnconfirm',\r\n                        cancelButton: 'sweetbtncancel'\r\n                    },\r\n                    title: 'Reprograme su cita',\r\n                    html: `<div class=\"formulario__campo\">\r\n                            <label class=\"formulario__label\" for=\"date\">Consulta fecha disponible:</label>\r\n                            <input class=\"formulario__input\" id=\"date\" type=\"date\" value=\"\">\r\n                            </div>\r\n                            \r\n                            <div class=\"cliente__campohoras\" id=\"horasmodal\">\r\n\r\n                            </div>`,\r\n                    showCancelButton: true,\r\n                    showConfirmButton: true,\r\n                    //confirmButtonText: 'Aceptar',\r\n                    //cancelButtonText: 'Cancelar',\r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                    Swal.fire('Actualizando', '', 'success')\r\n                    //modificar el servicio\r\n                    } \r\n                })\r\n            });\r\n        });*/\r\n        \r\n    }\r\n})();","(function(){\r\n    if(document.querySelector('#dash-cliente')){\r\n\r\n        let horasdisponibles = [], horacitas = [];\r\n        const divhoras = document.querySelector('#horas'); //donde se ponen las horas\r\n\r\n        function calcularhorarios(horaInicio, horaFin) {\r\n            const horarioActual = new Date(`01/01/2000 ${horaInicio}`);\r\n            const horarioFinal = new Date(`01/01/2000 ${horaFin}`);\r\n          \r\n            while (horarioActual < horarioFinal) {\r\n              const hora = horarioActual.getHours().toString().padStart(2, '0');\r\n              const minutos = horarioActual.getMinutes().toString().padStart(2, '0');\r\n              //console.log(`${hora}:${minutos}`);\r\n              const validate = horacitas.includes(`${hora}:${minutos}`);\r\n              if(!validate){\r\n                  //hora1 = ${hora}:${minutos};\r\n                  //horatemp = hora1; + min-servicio, \r\n                  //preguntar si horatemp es menor o igual al elemento del arreglo horacitas\r\n                  //si es si\r\n                  //imprimir hora1, hacer hora1 = horatemp;\r\n                  //si es no\r\n                  //hora1 = elemento del arreglo + su duracion-serv\r\n                  //aumentar en uno al arreglo de horacitas\r\n                  //valido arribo si es si, vuelvo y repito esto\r\n\r\n              horasdisponibles = [...horasdisponibles, `${hora}:${minutos}`];\r\n              }\r\n          \r\n              horarioActual.setTime(horarioActual.getTime() + 30 * 60000); // Agregar 30 minutos al horario actual, 60.000 milisegundos tiene un minuto\r\n            }\r\n        }\r\n\r\n\r\n        const professionals = document.querySelector('#profesional');\r\n        const select_date = document.querySelector('#date');\r\n        let fechadesc, malla, citas;\r\n        let onlyfechadesc, onlymalla, onlycitas;\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getfechadesc\"; //llamado a la API REST para trer todas las fechas de descanso de todos los empleados.\r\n                const respuesta = await fetch(url); \r\n                fechadesc = await respuesta.json(); \r\n                   \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getmalla\"; //llamado a la API REST para trer toda la malla\r\n                const respuesta = await fetch(url); \r\n                malla = await respuesta.json();    \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        /*(async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getcitas\"; //llamado a la API REST para trer toda las citas desde la fecha actual hasta posterior\r\n                const respuesta = await fetch(url); \r\n                citas = await respuesta.json();\r\n                \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })(); */\r\n        \r\n        const obtenercitas = async()=>{\r\n            try {\r\n                const url = \"/admin/api/getcitas\"; //llamado a la API REST para trer toda las citas desde la fecha actual hasta posterior, en controladorcliente.php\r\n                const respuesta = await fetch(url); \r\n                citas = await respuesta.json();\r\n            } catch (error){\r\n                console.log(error);\r\n            }\r\n        }\r\n        obtenercitas();\r\n\r\n        setInterval(() => {\r\n            obtenercitas();\r\n            if(!select_date.value == \"\" && document.querySelector('.cliente__hora')){\r\n                const dia = new Date(select_date.value);\r\n                borrarhtml(divhoras);\r\n                validarfechaydia(select_date.value, dia.getUTCDay());\r\n            }\r\n            //gethoras(r2)\r\n        }, 3100);\r\n\r\n        ///////////seleccionar empleado o profesional //////////////\r\n        professionals.addEventListener('change', (e)=>{\r\n            borrarhtml(divhoras);\r\n            select_date.disabled = false;\r\n            select_date.value = \"\";\r\n            onlymalla = malla[`empleado_${e.target.value}`]; //obtiene solo la malla de ese empleado\r\n            onlyfechadesc = fechadesc.filter(element => e.target.value === element.empleado_id);\r\n        });\r\n\r\n        select_date.addEventListener('input', (evento)=> {\r\n            /////////borrar el campo de las horas//////////\r\n            borrarhtml(divhoras);\r\n            \r\n            const dia = new Date(evento.target.value); //.getUTCDay();  = se estrae el dia de la semana\r\n            validarfechaydia(evento.target.value, dia.getUTCDay());\r\n            /*\r\n            const opciones = {\r\n            weekday: 'long',\r\n            year: 'numeric',\r\n            month: 'long'\r\n            }\r\n            console.log(dia.toLocaleDateString('es-ES', opciones));*/\r\n        });\r\n        \r\n\r\n        function validarfechaydia(fecha, dia){\r\n            //al seleccionar fecha ya se ha seleccionado el profesional, y el profesional me contiene su id y el id de la tabla empserv\r\n            const idempleado = professionals.options[professionals.options.selectedIndex].value;\r\n            onlycitas = citas.filter(cita => (cita.idempleado === idempleado&&cita.fecha_fin === fecha&&cita.estado === \"Pendiente\")); //obtengo las citas deacuerdo al profesional y fecha seleccionada y pendiente\r\n            \r\n            const r1 = onlyfechadesc.some(element => element.fecha === fecha);\r\n            if(r1){\r\n                Swal.fire(\r\n                    'Este dia no esta disponible!',\r\n                    'You clicked the button!',\r\n                    'error'\r\n                  )\r\n            }else{\r\n                const r2 = onlymalla.filter(element => element.id_dia == (dia===0?7:dia));\r\n                if(r2.length){ //es pq el dia si esta en la malla\r\n                    gethoras(r2[0]); //se envia solo el dia seleccionado (obj)\r\n                }\r\n                else{ //dia no esta en la malla\r\n                    Swal.fire(\r\n                        'Este dia no esta disponible!',\r\n                        'You clicked the button!',\r\n                        'error'\r\n                    )\r\n                }\r\n            }\r\n        }\r\n\r\n        function gethoras(r2){\r\n            let horario1 = [], horario2 = [];\r\n\r\n            horario1 = [...horario1, r2.inicioturno, r2.inidescanso];\r\n            horario2 = [...horario2, r2.findescanso, r2.finturno];\r\n\r\n            // me traigo un arreglo de la tabla citas de la DB con su hora segun fecha seleccionada y profesional seleccionado\r\n            //// comparo cada hora del arreglo traio con r2.iniciodescanso y si es menor lo agrego al arreglo horario1\r\n            ///luego comparo con r2.finturno y si es mayor lo agrego a arreglo horario2\r\n\r\n            horario1 = horario1.map(element =>{\r\n                element = element.substring(0,2)+':'+element.substring(2,4);\r\n                return element;\r\n            });\r\n            horario2 = horario2.map(element =>{\r\n                element = element.substring(0,2)+':'+element.substring(2,4);\r\n                return element;\r\n            });\r\n            //horacitas = onlycitas.map(element =>  element.hora_fin.slice(3)); //obtengo las horas formato 24 de la bd segun fecha y profesional\r\n            horacitas = onlycitas.map(element =>  element.hora_fin);\r\n\r\n            for(let i = 0; i<horario1.length-1; i++){\r\n            calcularhorarios(horario1[i], horario1[i+1]);\r\n            }\r\n            for(let i = 0; i<horario2.length-1; i++)\r\n            calcularhorarios(horario2[i], horario2[i+1]);\r\n            \r\n           console.log(horasdisponibles);\r\n           imprimirhorashtml();\r\n        }\r\n\r\n\r\n        function imprimirhorashtml(){\r\n            horasdisponibles.forEach(hora => {\r\n                const divhora = document.createElement('DIV');\r\n                divhora.classList.add(\"cliente__hora\");\r\n                const parrafohora = document.createElement('P');\r\n                parrafohora.textContent = hora;\r\n                //parrafohora.dataset.hora = hora.replace(':', '');\r\n                parrafohora.dataset.hora = hora;\r\n                parrafohora.onclick = reservarcita;\r\n                parrafohora.classList.add(\"texthora\");\r\n                divhora.appendChild(parrafohora);\r\n                divhoras.appendChild(divhora);\r\n            });\r\n        }\r\n\r\n        function reservarcita(e){ \r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Desea Reservar La Cita?',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Si',\r\n                cancelButtonText: 'No',\r\n                \r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    let r = enviarcita(e.target.dataset.hora);\r\n                    if(r){\r\n                        Swal.fire('Cita Programada', '', 'success')\r\n                        setTimeout(() => {\r\n                            window.location.reload();\r\n                        }, 1500);\r\n                    }else{\r\n                        Swal.fire('No fue posible agendar cita, Intentalo de nuevo', '', 'error')\r\n                    }\r\n                } \r\n            })\r\n        }\r\n\r\n        async function enviarcita(horacita){\r\n            const datos = new FormData();\r\n            const id_empserv = professionals.options[professionals.options.selectedIndex]; //id de la relacion empleado_servicio\r\n            const id_servicio = document.querySelector('#servicio').options[document.querySelector('#servicio').options.selectedIndex].value;\r\n            const hoy = new Date();\r\n\r\n\r\n            datos.append('id_empserv', id_empserv.dataset.id);\r\n            //datos.append('fecha_inicio', hoy.toLocaleDateString().replace(/\\//g, '-')); //fecha actual\r\n            datos.append('fecha_inicio', hoy.getFullYear()+'-'+(hoy.getMonth()+1)+'-'+hoy.getDate());\r\n            datos.append('fecha_fin', select_date.value);\r\n            datos.append('hora', hoy.toLocaleTimeString([], {hour12: false}));\r\n            datos.append('hora_fin', horacita);\r\n            datos.append('idservicio', id_servicio);\r\n            datos.append('nameprofesional', id_empserv.value);\r\n            try {\r\n                const url = \"/admin/api/enviarcita\";  //llama api en controladorcliente.php\r\n                const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                const resultado = await respuesta.json();  \r\n                if(resultado[0]){\r\n                    return true;\r\n                }\r\n                else{\r\n                    return false;\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n\r\n        function borrarhtml(elemento){\r\n            horasdisponibles = [];\r\n            while(elemento.firstElementChild)elemento.removeChild(elemento.firstElementChild);\r\n        }\r\n    }\r\n})();","(function(){ //para ver el detalle del pago de cada cita y su anulacion\r\n    if(document.querySelector('#dashboardcitas')){  \r\n        const detallefactura = document.querySelectorAll('.factura');\r\n\r\n        detallefactura.forEach(Element=>{\r\n            Element.addEventListener('click', (e)=>{\r\n                const tr = e.target.parentElement.parentElement.parentElement;\r\n                const estado = tr.children[7].textContent;\r\n                const idcita = tr.children[0].textContent;\r\n                if(estado === \"Finalizada\"){ \r\n                    (async ()=>{\r\n                        try {\r\n                            const url = `/admin/api/detallepagoxcita?id=${idcita}`;\r\n                            const respuesta = await fetch(url); \r\n                            const resultado = await respuesta.json();  \r\n                                formulariofactura(resultado, tr);\r\n                        } catch (error) {\r\n                            console.log(error);\r\n                        }\r\n                    })();  \r\n                }\r\n            });\r\n        });\r\n\r\n        function formulariofactura(resultado, tr){\r\n            console.log(resultado);\r\n            const {id, idcita, recibido, devolucion, fecha_pago, hora_pago, dcto, valordcto, valorpromo, valor_servicio, total} = resultado;\r\n            console.log(recibido);\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Detalle Del Pago',\r\n                html: `\r\n                    <h4 class=\"orden\">App Barber</h4>\r\n                    <div class=\"recibo\">\r\n                        <p class=\"recibo__titulo\">Nº De Pago: ${id}</p>\r\n                        <p class=\"recibo__titulo\">Orden Cita: ${idcita}</p>\r\n                        <div class=\"recibo__datos\">\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Cliente:</p>\r\n                                <p class=\"recibo__texto\">${tr.children[1].textContent}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">profesional:</p>\r\n                                <p class=\"recibo__texto\">${tr.children[4].textContent}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">servicio:</p>\r\n                                <p class=\"recibo__texto\">${tr.children[3].textContent}</p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"recibo__datos\">\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Fecha:</p>\r\n                                <p class=\"recibo__texto\">${fecha_pago}, ${hora_pago}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Valor Servicio:</p>\r\n                                <p class=\"recibo__texto\">$${valor_servicio}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Recibido:</p>\r\n                                <p class=\"recibo__texto\">$${recibido}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Devolucion:</p>\r\n                                <p class=\"recibo__texto\">$${devolucion}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Promo Aplicado:</p>\r\n                                <p class=\"recibo__texto\">$${valorpromo}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Dcto Manual:</p>\r\n                                <p class=\"recibo__texto\">$${valordcto}</p>\r\n                            </div>\r\n                            <div class=\"recibo__dato\">\r\n                                <p class=\"recibo__titulo\">Total:</p>\r\n                                <p class=\"recibo__texto\">$${total}</p>\r\n                            </div>\r\n                        </div>\r\n                    </div>`,\r\n                width: 'auto',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Anular Pago'\r\n            }).then((result) => {\r\n                if (result.isConfirmed){\r\n                    Swal.fire({\r\n                        customClass: {\r\n                            confirmButton: 'sweetbtnconfirm',\r\n                            cancelButton: 'sweetbtncancel'\r\n                        },\r\n                        title: 'Desea anular el pago?',\r\n                        showCancelButton: true,\r\n                        confirmButtonText: 'Si',\r\n                        cancelButtonText: 'No',\r\n                    }).then((result) => {\r\n                        if (result.isConfirmed) {\r\n                            anularpagofact(id).then(r=>{\r\n                                if(r){\r\n                                    actualizarfilacita(tr);\r\n                                    Swal.fire('Anulado!', '', 'success')\r\n                                }\r\n                                else{\r\n                                    Swal.fire('No se permite de dias anteriores!', '', 'error')\r\n                                }\r\n                            });\r\n                        } \r\n                      })\r\n                } \r\n              }); ////// fin Swal //////\r\n        } ////////fin funcion formulariofactura ////////\r\n\r\n        async function anularpagofact(id){\r\n            try {\r\n                const url = `/admin/api/anularpagoxcita?id=${id}`;\r\n                const respuesta = await fetch(url); \r\n                const resultado = await respuesta.json();  \r\n                return resultado; \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        function actualizarfilacita(tr){\r\n            tr.children[7].textContent = \"Pendiente\";\r\n            tr.classList.remove('tr-resaltar');\r\n        }\r\n    }\r\n\r\n})();","(function(){\r\n\r\n    //////////////////// los skills de los empleados //////////////////////\r\n    if(document.querySelector('.formulario__fieldset--servicios')){\r\n        const divcampostags1 = document.querySelector('.pagina1 .formulario__campostags'); //div en donde se carga los skills y el select de servicios en crear empleado\r\n        const divcampostags2 = document.querySelector('.pagina4 .formulario__campostags'); //div en donde se carga los skills y el select de servicios en actualizar empleado\r\n        const tagselect1 = document.querySelector('.pagina1 .formulario__tagselect'); //select de los servicios\r\n        const tagselect2 = document.querySelector('.pagina4 .formulario__tagselect'); //select de los servicios\r\n        const tagsinputhidden1 = document.querySelector('.pagina1 [name=\"servicios\"]'); //input oculto donde se carga los id de los servicios\r\n        const tagsinputhidden2 = document.querySelector('.pagina4 [name=\"servicios\"]'); //input oculto donde se carga los id de los servicios\r\n        const selectemployee = document.querySelector('#selectemployee'); //select del los empleados en update data\r\n        const eliminaremployee = document.querySelector('#eliminaremployee'); //<a>btn liminar</a>\r\n        let totalservicios = [], empleadosapi, tags1 = [], tags2 = [];\r\n\r\n        tagselect1.classList.add('selectskills1');\r\n       // let copytagselect2 = tagselect2.cloneNode(true);\r\n\r\n       //////obtoner todos los servicios del select en arreglo totalservicios///////\r\n        for(let i=1; i<tagselect2.options.length; i++){\r\n            let objservicio = {\r\n                id: tagselect2.options[i].value,\r\n                nombre: tagselect2.options[i].textContent\r\n            }\r\n            totalservicios = [...totalservicios, objservicio];\r\n        }\r\n\r\n        /////////traer todos los empleados con sus skills //////////\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getAllemployee\"; //llamado a la API REST\r\n                const respuesta = await fetch(url); \r\n                empleadosapi = await respuesta.json(); \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n\r\n        tagselect1.addEventListener('change', (e)=>{ //envento al select de los servicios\r\n            tags1 = [...tags1, e.target.options[tagselect1.options.selectedIndex].value];  //en este arreglo guardamos los id de los servicios seleccionados\r\n            \r\n            let nombreservicio = e.target.options[tagselect1.options.selectedIndex].textContent;\r\n            let idservicio = e.target.options[tagselect1.options.selectedIndex].value;\r\n            \r\n            let divtag = mostrarservicio(nombreservicio, idservicio, tagselect1);\r\n            //divcampostags1.insertBefore(divtag, document.querySelector('.pagina1 .formulario__tagselect'));\r\n            divcampostags1.appendChild(divtag);\r\n            tagselect1.options[tagselect1.options.selectedIndex].remove();\r\n            tagselect1.options[0].selected = true;\r\n            actualizarinputhidden();\r\n        });\r\n\r\n        function mostrarservicio(nombreservicio, idservicio, tagselect){\r\n            //const divcampotag = document.createElement('DIV');\r\n            //divcampotag.classList.add('formulario__campotag');\r\n            const divtag = document.createElement('DIV');\r\n            divtag.classList.add('formulario__tag');\r\n            const span = document.createElement('SPAN');\r\n            span.textContent = nombreservicio;\r\n            span.id = idservicio;\r\n            const icon = document.createElement('I');\r\n            icon.classList.add('fa-solid');\r\n            icon.classList.add('fa-rectangle-xmark');\r\n            icon.onclick = function(e){ borrarservicio(e, tagselect); } //al dar click en la x elimina el servicio del empleado\r\n            divtag.appendChild(span);\r\n            divtag.appendChild(icon);\r\n            //divcampotag.appendChild(divtag);\r\n            return divtag;\r\n        }\r\n\r\n        function borrarservicio(e, tagselect){ //al dar click en la x lo muestra en el select, y elimina el servicio o skill elegido del empleado\r\n            let span = e.target.previousElementSibling;\r\n            cargarselects(tagselect, {id: span.id, nombre: span.textContent});\r\n            e.target.parentElement.remove();\r\n\r\n            if(tagselect.classList.contains('selectskills1')){\r\n                tags1 = tags1.filter(tag => tag!=span.id);\r\n            }else{\r\n                tags2 = tags2.filter(tag => tag!=span.id);\r\n            }\r\n            actualizarinputhidden();\r\n        }\r\n\r\n        function actualizarinputhidden(){\r\n            tagsinputhidden1.value = tags1.toString(); // el arreglo tags lo convierte a string\r\n            tagsinputhidden2.value = tags2.toString(); // el arreglo tags lo convierte a string\r\n        }\r\n\r\n//////////////////////\r\n\r\n        selectemployee.addEventListener('change', (e)=>{ //evento al select de empleados en update data\r\n            let empleado;\r\n            const divtags = document.querySelectorAll('.pagina4 .formulario__tag');\r\n            divtags.forEach(divtag => {divtag.remove()}); //eliminar previamente los skills para cargarlos nuevamente \r\n            eliminaremployee.href = \"/admin/adminconfig/eliminaremployee?id=\"+e.target.value;\r\n            empleado = empleadosapi.filter(element => element.id == e.target.value); //obtengo solo un empleado elegido\r\n            cargarempleado(empleado);\r\n        });\r\n\r\n        function cargarempleado(empleado){ //empleado es un arreglo con un solo obj\r\n            const{servicios} = empleado[0]; //servicios es el arreglo con solo skills\r\n            document.querySelector('.pagina4 #nombre').value = empleado[0].nombre;\r\n            document.querySelector('.pagina4 #apellido').value = empleado[0].apellido;\r\n            document.querySelector('.pagina4 #movil').value = empleado[0].movil;\r\n            document.querySelector('.pagina4 #email').value = empleado[0].email;\r\n            document.querySelector('.pagina4 #departamento').value = empleado[0].departamento;\r\n            document.querySelector('.pagina4 #ciudad').value = empleado[0].ciudad;\r\n            document.querySelector('.pagina4 #direccion').value = empleado[0].direccion;\r\n\r\n            tags2 = [];\r\n\r\n            //mostrar todos los servicios en el select//\r\n            totalservicios.forEach(servicio => {\r\n                let i = 1;\r\n                for( ; i<tagselect2.options.length; i++)\r\n                    if(servicio.id == tagselect2.options[i].value)break;\r\n                if(i === tagselect2.options.length)cargarselects(tagselect2, {id: servicio.id, nombre: servicio.nombre});\r\n            });\r\n            \r\n            servicios.forEach(servicio => { //arreglo de servicios\r\n                tags2 = [...tags2, servicio.id];\r\n                let divtag = mostrarservicio(servicio.nombre, servicio.id, tagselect2);\r\n                //divcampostags2.insertBefore(divtag, document.querySelector('.pagina4 .formulario__tagselect'));\r\n                divcampostags2.appendChild(divtag);\r\n                ///quitar del select los servicios que se mostraron//\r\n               //document.querySelector(`.pagina4 .formulario__tagselect option[value=\"${servicio.id}\"`).remove();\r\n                if(tagselect2.querySelector(`option[value=\"${servicio.id}\"`))\r\n                    tagselect2.querySelector(`option[value=\"${servicio.id}\"`).remove(); \r\n            });\r\n            tagselect2.options[0].selected = true;\r\n            actualizarinputhidden();\r\n        }\r\n\r\n        tagselect2.addEventListener('change', (e)=>{ //envento al select de los servicios\r\n            tags2 = [...tags2, e.target.options[tagselect2.options.selectedIndex].value];  //en este arreglo guardamos los id de los servicios seleccionados\r\n            let nombreservicio = e.target.options[tagselect2.options.selectedIndex].textContent;\r\n            let idservicio = e.target.options[tagselect2.options.selectedIndex].value;\r\n            \r\n            let divtag = mostrarservicio(nombreservicio, idservicio, tagselect2);\r\n            //divcampostags2.insertBefore(divtag, document.querySelector('.pagina4 .formulario__tagselect'));\r\n            divcampostags2.appendChild(divtag);\r\n            tagselect2.options[tagselect2.options.selectedIndex].remove();\r\n            tagselect2.options[0].selected = true;\r\n            actualizarinputhidden();\r\n        });\r\n\r\n        function cargarselects(tagselect, skill){\r\n            const option = document.createElement('OPTION');\r\n            option.value = skill.id;\r\n            option.textContent = skill.nombre;\r\n            tagselect.appendChild(option);\r\n        }\r\n\r\n\r\n        /////eliminar empleado//////\r\n        eliminaremployee.addEventListener('click', (e)=>{\r\n            e.preventDefault();\r\n            if(e.target.href.includes('?id=')){\r\n                Swal.fire({\r\n                    customClass: {\r\n                        confirmButton: 'sweetbtnconfirm',\r\n                        cancelButton: 'sweetbtncancel'\r\n                    },\r\n                    title: 'Desea eliminar el empleado?',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: 'Si',\r\n                    cancelButtonText: 'No',\r\n                    \r\n                }).then((result) => {\r\n                    if (result.isConfirmed)\r\n                        window.location = e.target.href;\r\n                })\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    \r\n\r\n\r\n})();","(function(){\r\n    if(document.querySelector('.facturacion')){\r\n        let servicios;\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getservices\"; //llamado a la API REST\r\n                const respuesta = await fetch(url); \r\n                servicios = await respuesta.json(); \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        const filtrarfecha = document.querySelector('#fecha');\r\n        filtrarfecha.addEventListener('input', (e)=>{\r\n            window.location = `/admin/facturacion/buscarxfecha?pagina=1&fecha=${e.target.value}`;\r\n        });\r\n\r\n        const pagar = document.querySelector('#pagar');\r\n        pagar.addEventListener('click', ()=>{\r\n            formulariopagar();\r\n            obtenermediospago();\r\n            countchars();\r\n        });\r\n        \r\n\r\n        function formulariopagar(){\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Pago De Servicio',\r\n                html: `<form class=\"formulario modalform\" action=\"/admin/facturacion\" method=\"POST\">\r\n                            <input type=\"hidden\" name=\"idcita\" value=\"1\">\r\n                            <input type=\"hidden\" name=\"total\" value=\"\" >\r\n                            <input type=\"hidden\" name=\"dcto\" value=\"0\">\r\n                            <input type=\"hidden\" name=\"valordcto\" value=\"0\">\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"servicios\">Servicios:</label>\r\n                                <select class=\"formulario__select\" name=\"idservicio\" id=\"selectservice\" required>\r\n                                    <option value=\"\" disabled selected> Seleccionar Servicio</option>\r\n                                </select> \r\n                            </div>\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"valor_servicio\">Total a pagar:</label>\r\n                                <input class=\"formulario__input\" type=\"number\" id=\"valor_servicio\" name=\"valor_servicio\" value=\"\" readonly required>\r\n                            </div>\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"mediopago\">Elegir Medio De Pago:</label>\r\n                                <select class=\"formulario__select\" name=\"idmediospago\" id=\"mediopago\">\r\n                                    <option value=\"\" disabled selected> Seleccionar medio pago</option>\r\n                                </select> \r\n                            </div>\r\n                            \r\n                            <div class=\"formulario__campo-2r\">\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"recibido\">Recibido:</label>\r\n                                    <input class=\"formulario__input\" type=\"number\" id=\"recibido\" name=\"recibido\" value=\"\" required>\r\n                                </div>\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"devolucion\">Devolucion:</label>\r\n                                    <input class=\"formulario__input\" type=\"number\" id=\"devolucion\" name=\"devolucion\" value=\"\" readonly required>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"nota\">Nota:</label>\r\n                                <div class=\"formulario__dato\">\r\n                                    <input class=\"formulario__input\" type=\"text\" placeholder=\"Nota del pago\" id=\"nota\" name=\"nota\" value=\"\">\r\n                                    <label data-num=\"64\" class=\"count-charts\" for=\"\">64</label>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"descuento\">Imprimir Recibo: </label>\r\n                                <div class=\"formulario__campo-2r\">\r\n                                    <div class=\"formulario__imprimir\">\r\n                                        <label class=\"formulario__label\" for=\"imprimir_si\">Si:</label>\r\n                                        <input id=\"imprimir_si\" type=\"radio\" value=\"1\" name=\"imprimir\">\r\n                                    </div>\r\n                                    <div class=\"formulario__imprimir\">\r\n                                        <label class=\"formulario__label\" for=\"imprimir_no\">No:</label>\r\n                                        <input id=\"imprimir_no\" type=\"radio\" value=\"0\" name=\"imprimir\" checked>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n    \r\n                            <input class=\"clientes-btn\" type=\"submit\" value=\"Pagar\">\r\n                       </form>`,\r\n                showCancelButton: false,\r\n                showConfirmButton: false,  \r\n            });\r\n            document.querySelector('#recibido').addEventListener('input', calculo);\r\n            cargarservicios();\r\n        }\r\n\r\n        ///////////////////////////traer los medios de pago /////////////////////////\r\n        const obtenermediospago = async()=>{\r\n            try {\r\n                const url = \"/admin/api/getmediospago\";\r\n                const respuesta = await fetch(url);\r\n                const mediospago = await respuesta.json();\r\n                cargarmediospago(mediospago);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        function cargarmediospago(mediospago){\r\n            const selectmediospago = document.querySelector('#mediopago');\r\n            mediospago.forEach(element => {\r\n                if(element.estado==='1'){\r\n                    const option = document.createElement('OPTION');\r\n                    option.value = element.id;\r\n                    option.textContent = element.mediopago;\r\n                    selectmediospago.appendChild(option);\r\n                }\r\n            });\r\n        }\r\n\r\n        function cargarservicios(){\r\n            const selectservice = document.querySelector('#selectservice');\r\n            servicios.forEach(element => {\r\n                const option = document.createElement('OPTION');\r\n                option.value = element.id;\r\n                option.textContent = element.nombre;\r\n                selectservice.appendChild(option);\r\n            });\r\n            selectservice.addEventListener('change', e=>cargarvalorservicio(e));\r\n        }\r\n        function cargarvalorservicio(e){\r\n            const valor_servicio = document.querySelector('#valor_servicio');\r\n            const valorservice = servicios.filter(element =>element.id == e.target.value);\r\n            valor_servicio.value = valorservice[0].precio;\r\n            document.querySelector('#recibido').value = '';\r\n            document.querySelector('#devolucion').value = '';\r\n        }\r\n\r\n        function calculo(){\r\n            const valordcto = document.querySelector('input[name=valordcto]'); //para dcto manual\r\n            const valorservicio = parseInt(document.querySelector('#valor_servicio').value);\r\n            const devolucion = document.querySelector('#devolucion');\r\n            const recibido = parseInt(document.querySelector('#recibido').value); \r\n                if(recibido>=valorservicio){\r\n                   devolucion.value = recibido-valorservicio;\r\n                   //devolucion.style.color = \"rgb(240, 101, 72)\"; \r\n                }else{\r\n                    devolucion.value = 0;\r\n                    valordcto.value = valorservicio - recibido; //descuento manual\r\n                }\r\n                document.querySelector('input[name=total]').value = recibido - parseInt(devolucion.value);\r\n        }\r\n\r\n        //////////////// funcion contadores de caracteres /////////////////////\r\n        //countchars();\r\n        function countchars(){\r\n            const numinput = document.querySelectorAll('.count-charts');  \r\n            numinput.forEach(element =>{ //element es cada label\r\n                element.textContent = element.dataset.num-element.previousElementSibling.value.length;\r\n                element.previousElementSibling.addEventListener('input', (e)=>{ //seleccionamos el input o el textarea en donde se escribe y se le da el evento de teclas\r\n                    element.textContent = element.dataset.num-e.target.value.length;\r\n                      \r\n                    if(element.dataset.num-e.target.value.length <= 0){\r\n                        let cadena = e.target.value.slice(0, element.dataset.num);\r\n                        e.target.value = cadena;\r\n                        element.textContent = 0;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    }\r\n})();","(function(){\r\n    if(document.querySelector('.descpagina3')){\r\n\r\n        const selectemployee = document.querySelector('#selectemployeedate');\r\n        const viewdates = document.querySelector('.viewdates');\r\n        let fechas;\r\n\r\n        (async ()=> {\r\n            try {\r\n                const url = \"/admin/api/getfechadesc\";\r\n                const respuesta = await fetch(url);\r\n                fechas = await respuesta.json();\r\n            } catch (error) {\r\n               console.log(error); \r\n            }\r\n        })();\r\n\r\n\r\n        selectemployee.addEventListener('change', (e)=>{\r\n            const dates = fechas.filter(fecha => fecha.empleado_id == e.target.value);\r\n            limpiarfechas();\r\n            imprimirfechas(dates);\r\n        });\r\n\r\n        function limpiarfechas(){\r\n            while(viewdates.firstChild)viewdates.removeChild(viewdates.firstChild);\r\n        }\r\n\r\n        function imprimirfechas(dates){\r\n            dates.forEach(element => {\r\n                const div = document.createElement('DIV');\r\n                div.classList.add('viewdates__viewdate'); \r\n                div.dataset.id = element.id;\r\n                const parrafo = document.createElement('P');\r\n                parrafo.classList.add('viewdates__fecha');\r\n                parrafo.textContent = element.fecha;\r\n                const icondelete = document.createElement('I');\r\n                icondelete.classList.add('fa-solid', 'fa-rectangle-xmark');\r\n                icondelete.id = element.id;\r\n                icondelete.onclick = eliminarfecha;\r\n                div.appendChild(parrafo);\r\n                div.appendChild(icondelete);\r\n                viewdates.appendChild(div);\r\n            });\r\n        }\r\n\r\n        async function eliminarfecha(e){\r\n            console.log(e.target.id);\r\n            try {\r\n                const url = `/admin/api/deletefechadesc?id=${e.target.id}`;\r\n                const respuesta = await fetch(url); \r\n                const resultado = await respuesta.json();  \r\n                if(resultado == 1)document.querySelector(`i[id=\"${e.target.id}\"]`).parentElement.remove();\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n    }\r\n})();","(function(){\r\n    if(document.querySelector('.fidelizacion')){\r\n\r\n        const editar = document.querySelectorAll('.programar');\r\n        const eliminar = document.querySelectorAll('.cancelado');\r\n        const sendmsj = document.querySelectorAll('.sendmsj');\r\n        let obj = {\r\n\r\n        }\r\n\r\n        editar.forEach(Element => {\r\n            Element.addEventListener('click', (e)=>{ \r\n                const tr = e.target.parentElement.parentElement.parentElement;\r\n                obj.id = e.target.parentElement.dataset.id;\r\n                obj.nombreproducto = tr.children[2].textContent;\r\n                obj.valorservicio = tr.children[3].textContent.slice(1);\r\n                obj.dcto = tr.children[4].textContent;\r\n                obj.valorfinal = tr.children[5].textContent;\r\n                obj.fecha_fin = tr.children[6].textContent;\r\n                formulariocliente(obj);\r\n                //countchars();\r\n            });\r\n        });\r\n\r\n\r\n        function formulariocliente(obj){\r\n    \r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Actualizar Oferta',\r\n                html: `<form class=\"formulario modalform\" action=\"/admin/fidelizacion/editar_dctoxproduct\" method=\"POST\">\r\n                            <input type=\"hidden\" name=\"id\" value=\"${obj.id}\" >\r\n                            \r\n                            <span class=\"nameuser\">${obj.nombreproducto}</span>\r\n                            <span class=\"precio\">Valor: ${obj.valorservicio}</span>\r\n                            <span class=\"nameuser\">Dcto: ${obj.dcto}</span>\r\n                            <span class=\"nameuser\">Valor Final: ${obj.valorfinal}</span>\r\n                            \r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"tipo\">Tipo De Dcto: </label>\r\n                                <select class=\"formulario__select\" name=\"tipo\" id=\"tipo\" required>\r\n                                    <option value=\"\" disabled selected> Seleccionar tipo de dcto</option>\r\n                                    <option value=\"porcentaje\">Porcentaje</option>\r\n                                    <option value=\"valor\">Valor</option>\r\n                                </select>\r\n                            </div>\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"dcto1\">Descuento</label>\r\n                                <input class=\"formulario__input\" id=\"dcto1\" type=\"number\" min=\"\" max=\"\" name=\"dcto1\" value=\"\" disabled required>\r\n                            </div>\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"dcto2\" id=\"dcto2Valor\">Valor</label>\r\n                                <input class=\"formulario__input\" id=\"dcto2\" type=\"number\" min=\"\" max=\"\" name=\"dcto2\" value=\"\" readonly required>\r\n                            </div>\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"fecha_fin\">Fecha De Finalizacion</label>\r\n                                <input class=\"formulario__input\" type=\"date\" id=\"fecha_fin\" name=\"fecha_fin\" value=\"${obj.fecha_fin}\" requiered>\r\n                            </div>\r\n                            \r\n                            <input class=\"clientes-btn\" type=\"submit\" value=\"Actualizar\">\r\n                       </form>`,\r\n                showCancelButton: false,\r\n                showConfirmButton: false,  \r\n            });\r\n            eventos();\r\n        }\r\n\r\n\r\n        function eventos(){\r\n            const dcto1 = document.querySelector('#dcto1');\r\n            const tipodcto = document.querySelector('#tipo');\r\n            tipodcto.addEventListener('change', (e)=>{\r\n                dcto1.disabled = false;\r\n                imprimirvalor(dcto1.value, tipodcto);\r\n            });\r\n    \r\n            dcto1.addEventListener('input', (e)=>{\r\n                imprimirvalor(e.target.value, tipodcto);  \r\n            });\r\n        }\r\n\r\n\r\n        function imprimirvalor(valoringresado, tipodcto){\r\n            const dcto1 = document.querySelector('#dcto1');\r\n            const dcto2 = document.querySelector('#dcto2');\r\n            const dcto2Valor = document.querySelector('#dcto2Valor');\r\n            if(tipodcto.options[tipodcto.options.selectedIndex].value == 'porcentaje'){\r\n                dcto1.min = 0;\r\n                dcto1.max = 100;\r\n                dcto2Valor.textContent = \"Valor\";\r\n                if(valoringresado>100)dcto1.value = 100;\r\n                if(valoringresado<0)dcto1.value = 0;\r\n                dcto2.value = Math.round((obj.valorservicio*dcto1.value)/100);\r\n            }\r\n            if(tipodcto.options[tipodcto.options.selectedIndex].value == 'valor'){\r\n                dcto1.min = 0;\r\n                dcto1.max = obj.valorservicio;\r\n                dcto2Valor.textContent = \"Valor (%)\";\r\n                if(valoringresado>parseInt(obj.valorservicio))dcto1.value = obj.valorservicio;\r\n                if(valoringresado<0)dcto1.value = 0;\r\n                dcto2.value = Math.round((dcto1.value*100)/obj.valorservicio);\r\n            }  \r\n        }\r\n\r\n        /////////////// eliminar oferta del cliente ////////////////\r\n\r\n        eliminar.forEach(element => {\r\n            element.addEventListener('click', (e)=>{\r\n                const id = e.target.parentElement.dataset.id;\r\n                Swal.fire({\r\n                    customClass: {\r\n                        confirmButton: 'sweetbtnconfirm',\r\n                        cancelButton: 'sweetbtncancel'\r\n                    },\r\n                    title: 'Desea eliminar la oferta del cliente?',\r\n                    showCancelButton: true,\r\n                    confirmButtonText: 'Si',\r\n                    cancelButtonText: 'No',\r\n                    \r\n                }).then((result) => {\r\n                    if (result.isConfirmed) {\r\n                        //Swal.fire('Eliminado', '', 'success');\r\n                        window.location = `/admin/fidelizacion?id=${id}`;\r\n\r\n                    } \r\n                })\r\n            });\r\n        });\r\n\r\n        /////////////////////// enviar msj a clientes ///////////////////////\r\n\r\n        sendmsj.forEach(element => {\r\n            element.addEventListener('click', (e)=>{\r\n                const id = e.target.parentElement.dataset.id;\r\n                Swal.fire({\r\n                    icon: 'error',\r\n                    title: 'Oops...',\r\n                    text: 'clase y metodo de mensaje no configurado!',\r\n                    footer: 'Innovatech quindio'\r\n                  })\r\n            });\r\n        });\r\n    \r\n        //////////////// funcion contadores de caracteres /////////////////////\r\n        \r\n        /*\r\n        function countchars(){\r\n            const numinput = document.querySelectorAll('.count-charts');  \r\n            numinput.forEach(element =>{ //element es cada label\r\n                element.textContent = element.dataset.num-element.previousElementSibling.value.length;\r\n                element.previousElementSibling.addEventListener('input', (e)=>{ //seleccionamos el input o el textarea en donde se escribe y se le da el evento de teclas\r\n                    element.textContent = element.dataset.num-e.target.value.length;\r\n                      \r\n                    if(element.dataset.num-e.target.value.length <= 0){\r\n                        let cadena = e.target.value.slice(0, element.dataset.num);\r\n                        e.target.value = cadena;\r\n                        element.textContent = 0;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n        countchars();*/\r\n    }\r\n\r\n})();","(function(){\r\n    if(document.querySelector('#dashboardcitas')){//en admin/citas/index.php\r\n        \r\n        const eliminarcitas = document.querySelectorAll('.cancelado');\r\n        const finalizarcitas = document.querySelectorAll('.finalizado');\r\n        let valueservice;\r\n\r\n        ////////////////////////////cancelar o eliminar cita//////////////////////////////\r\n        eliminarcitas.forEach(eliminarcita =>{\r\n            eliminarcita.addEventListener('click', (e)=>{\r\n                const tr = e.target.parentElement.parentElement.parentElement;\r\n                const id = tr.children[0].textContent;\r\n                const estado = tr.children[7].textContent;\r\n                if(estado === \"Pendiente\" || estado === \"Out\")cancelarcita(id, tr.children[7]); //se pasa el id de la cita y su estado  \r\n            });\r\n        });\r\n\r\n        function cancelarcita(id, estado){ //funcion para cancelar la cita.\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Desea Cancelar La Cita?',\r\n                text: \"SE CANCELARA LA CITA, PUEDES CREAR UNA NUEVA CUANDO LO DESEES.\",\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Si',\r\n                cancelButtonText: 'No',\r\n                \r\n            }).then((result) => {\r\n                if (result.isConfirmed){ \r\n                    (async ()=>{\r\n                        try {\r\n                            const url = `/admin/api/cancelarcita?id=${id}`;\r\n                            const respuesta = await fetch(url); \r\n                            const resultado = await respuesta.json();  \r\n                            if(resultado){\r\n                                estado.textContent = \"Cancelado\"; \r\n                                Swal.fire('Cita Cancelada', '', 'success')\r\n                            }\r\n                        } catch (error) {\r\n                            console.log(error);\r\n                        }\r\n                    })(); \r\n                } \r\n            })\r\n        }\r\n\r\n\r\n        //////////////////////Finalizar clita /////////////////////////////\r\n\r\n        finalizarcitas.forEach(fincita => {\r\n            fincita.addEventListener('click', e=>{\r\n                const tr = e.target.parentElement.parentElement.parentElement;\r\n                const estado = tr.children[7].textContent;\r\n                if(estado === \"Pendiente\"){   \r\n                    formulariopagar();\r\n                    obtenermediospago();\r\n                    cargardatoscliente(e);\r\n                }\r\n            });\r\n        });\r\n\r\n        function formulariopagar(){\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Terminar Cita',\r\n                html: `<form class=\"formulario modalform\" action=\"/admin/citas/finalizar?pagina=1\" method=\"POST\">\r\n                            <input type=\"hidden\" name=\"id\" value=\"\" >\r\n                            <input type=\"hidden\" name=\"valor_servicio\" value=\"\" >\r\n                            <input type=\"hidden\" name=\"valordcto\" value=\"0\" >\r\n                            <input type=\"hidden\" name=\"promodcto\" value=\"0\" >\r\n                            <input type=\"hidden\" name=\"total\" value=\"\" >\r\n\r\n                            <p class=\"orden\"></p>\r\n                            <span class=\"nameuser\"></span>\r\n                            <span class=\"nameservice\"></span>\r\n                            <span class=\"precio\"></span>\r\n\r\n                            <div class=\"\">\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"valorpromodcto\">Aplicar Promocion:</label>\r\n                                <select class=\"formulario__select\" name=\"valorpromo\" id=\"valorpromodcto\">\r\n                                    <option value=\"\" disabled selected> Seleccionar Dcto</option>\r\n                                    <option data-dcto=\"0\" value=\"0\"> Sin Descuento</option>\r\n                                </select> \r\n                            </div>\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"totalpagar\">Total A Pagar: </label>\r\n                                <input class=\"formulario__input\" type=\"number\" id=\"totalpagar\" name=\"totalpagar\" value=\"\" readonly required>\r\n                            </div>\r\n\r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"mediopago\">Elegir Medio De Pago:</label>\r\n                                <select class=\"formulario__select\" name=\"idmediospago\" id=\"mediopago\">\r\n                                    <option value=\"\" disabled selected> Seleccionar medio pago</option>\r\n                                </select> \r\n                            </div>\r\n                            \r\n                            <div class=\"formulario__campo-2r\">\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"recibido\">Recibido:</label>\r\n                                    <input class=\"formulario__input\" type=\"number\" id=\"recibido\" name=\"recibido\" value=\"\" required>\r\n                                </div>\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"devolucion\">Devolucion:</label>\r\n                                    <input class=\"formulario__input\" type=\"number\" id=\"devolucion\" name=\"devolucion\" value=\"\" readonly required>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"nota\">Nota:</label>\r\n                                <div class=\"formulario__dato\">\r\n                                    <input class=\"formulario__input\" type=\"text\" placeholder=\"Nota del pago\" id=\"nota\" name=\"nota\" value=\"\">\r\n                                    <label data-num=\"64\" class=\"count-charts\" for=\"\">64</label>\r\n                                </div>\r\n                            </div>\r\n                            \r\n                            <div class=\"formulario__campo\">\r\n                                <label class=\"formulario__label\" for=\"descuento\">Imprimir Recibo: </label>\r\n                                <div class=\"formulario__campo-2r\">\r\n                                    <div class=\"formulario__imprimir\">\r\n                                        <label class=\"formulario__label\" for=\"imprimir_si\">Si:</label>\r\n                                        <input id=\"imprimir_si\" type=\"radio\" value=\"1\" name=\"imprimir\">\r\n                                    </div>\r\n                                    <div class=\"formulario__imprimir\">\r\n                                        <label class=\"formulario__label\" for=\"imprimir_no\">No:</label>\r\n                                        <input id=\"imprimir_no\" type=\"radio\" value=\"0\" name=\"imprimir\" checked>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n    \r\n                            <input class=\"clientes-btn\" type=\"submit\" value=\"Pagar\">\r\n                       </form>`,\r\n                showCancelButton: false,\r\n                showConfirmButton: false,  \r\n            });\r\n            document.querySelector('#recibido').addEventListener('input', calculo);\r\n            countchars();\r\n        }\r\n\r\n        ///////////////////////////traer los medios de pago /////////////////////////\r\n        const obtenermediospago = async()=>{\r\n            try {\r\n                const url = \"/admin/api/getmediospago\";\r\n                const respuesta = await fetch(url);\r\n                const mediospago = await respuesta.json();\r\n                cargarmediospago(mediospago);\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        }\r\n\r\n        function cargarmediospago(mediospago){\r\n            const selectmediospago = document.querySelector('#mediopago');\r\n            mediospago.forEach(element => {\r\n                if(element.estado==='1'){\r\n                    const option = document.createElement('OPTION');\r\n                    option.value = element.id;\r\n                    option.textContent = element.mediopago;\r\n                    selectmediospago.appendChild(option);\r\n                }\r\n            });\r\n        }\r\n\r\n        function cargardatoscliente(e){\r\n            const promodcto = e.target.parentElement.dataset.promodcto||0; //dcto en porcentaje\r\n            const valorpromodcto = e.target.parentElement.dataset.promodctovalor||0;  //dcto de promocion en valor\r\n            const tr = e.target.parentElement.parentElement.parentElement;\r\n            const idcita = tr.children[0].textContent;\r\n            const nombre = tr.children[1].textContent;\r\n            const servicio = tr.children[3].textContent;\r\n            valueservice = tr.children[3].dataset.precio;\r\n\r\n            document.querySelector('input[name=id]').value = idcita;  //id de la cita\r\n            document.querySelector('input[name=valor_servicio]').value = valueservice;\r\n            document.querySelector('.orden').textContent = 'Orden: '+idcita;\r\n            document.querySelector('.nameuser').textContent = nombre;\r\n            document.querySelector('.nameservice').textContent = servicio;\r\n            document.querySelector('.precio').textContent = 'Precio: $'+valueservice;\r\n\r\n            const selectdcto = document.querySelector('#valorpromodcto');\r\n            if(parseInt(promodcto)){\r\n                const option = document.createElement('option');\r\n                option.textContent = promodcto+'%'+' - '+'$'+valorpromodcto;\r\n                option.value = valorpromodcto; //dcto en valor\r\n                option.dataset.dcto = promodcto;\r\n                selectdcto.appendChild(option);\r\n            }\r\n            selectdcto.addEventListener('change', aplicarpromo);\r\n            const totalpagar = document.querySelector('#totalpagar');\r\n            totalpagar.value = valueservice;\r\n            totalpagar.addEventListener('input', calculo);\r\n        }\r\n\r\n        function aplicarpromo(e){\r\n            document.querySelector('#totalpagar').value = valueservice; //se reinicia el valor original del servicio\r\n            const valorpromodcto = parseInt(e.target.value);\r\n            const totalpagar = parseInt(document.querySelector('#totalpagar').value);\r\n            document.querySelector('#totalpagar').value = totalpagar - valorpromodcto;\r\n            const promodcto = e.target.options[this.options.selectedIndex].dataset.dcto;\r\n            document.querySelector('input[name=promodcto]').value = promodcto;  //input hidden para enviar dcto en porcentaje a bd\r\n            calculo();\r\n        }\r\n\r\n        function calculo(){\r\n            const valordcto = document.querySelector('input[name=valordcto]'); //para dcto manual\r\n            const inputtotalpagar = parseInt(document.querySelector('#totalpagar').value);\r\n            const devolucion = document.querySelector('#devolucion');\r\n            const recibido = parseInt(document.querySelector('#recibido').value); \r\n            if(recibido>=inputtotalpagar){\r\n                devolucion.value = recibido-inputtotalpagar;\r\n                //devolucion.style.color = \"rgb(240, 101, 72)\"; \r\n                valordcto.value = 0; //descuento manual\r\n                console.log(valordcto.value);\r\n            }else{\r\n                devolucion.value = 0;\r\n                valordcto.value = inputtotalpagar - recibido; //descuento manual\r\n                console.log(valordcto.value);\r\n            }\r\n            document.querySelector('input[name=total]').value = recibido - parseInt(devolucion.value);\r\n        }\r\n\r\n        //////////////// funcion contadores de caracteres /////////////////////\r\n        function countchars(){\r\n            const numinput = document.querySelectorAll('.count-charts');  \r\n            numinput.forEach(element =>{ //element es cada label\r\n                element.textContent = element.dataset.num-element.previousElementSibling.value.length;\r\n                element.previousElementSibling.addEventListener('input', (e)=>{ //seleccionamos el input o el textarea en donde se escribe y se le da el evento de teclas\r\n                    element.textContent = element.dataset.num-e.target.value.length;\r\n                      \r\n                    if(element.dataset.num-e.target.value.length <= 0){\r\n                        let cadena = e.target.value.slice(0, element.dataset.num);\r\n                        e.target.value = cadena;\r\n                        element.textContent = 0;\r\n                    }\r\n                });\r\n            });\r\n        }\r\n\r\n    }\r\n})();","(function(){\r\n\r\n    const grafica = document.querySelector('#servicios-grafica');\r\n    if(grafica){\r\n       \r\n        let fechas, cierretotal, totalcitas, citasrealizadas, citascancelado, valorcitas=0; citas100=0, progreso=440;\r\n        (async ()=>{\r\n            try {\r\n                const url1 = \"/admin/api/alldays\"; //llamado a la API REST\r\n                const respuesta1 = await fetch(url1); \r\n                const resultado1 = await respuesta1.json(); \r\n                const url2 = \"/admin/api/totalcitas\";\r\n                const respuesta2 = await fetch(url2); \r\n                const resultado2 = await respuesta2.json(); \r\n            \r\n                resultado1.reverse();\r\n                fechas = resultado1.map(date => date.fecha);\r\n                cierretotal = resultado1.map(total => total.totaldia);\r\n\r\n                citascancelado = resultado2.filter(Element=>Element.estado==='Cancelado');\r\n                totalcitas = resultado2.length - citascancelado.length;\r\n                \r\n                citasrealizadas = resultado2.filter(Element=>Element.estado==='Finalizada');\r\n\r\n                valorcitas = citasrealizadas.reduce((total, Element)=>total+parseInt(Element.facturacion.total), 0);\r\n                if(totalcitas)citas100 = (citasrealizadas.length*100)/totalcitas;\r\n                progreso = (440*citas100)/100;\r\n\r\n                printgrafica1();\r\n                animacioncircle();\r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        function printgrafica1(){\r\n            let a = ['#ea580c', '#84cc16', '#22d3ee', '#a855f7', '#ef4444', '#14b8a6', '#db2777', '#e11d48', '#7e22ce'];\r\n            //for(let i=0; i<(resultado.length-9); i++)a=[...a, a[i]];     //si los programas supera 9 se repite color \r\n\r\n            const ctx = document.getElementById('servicios-grafica').getContext('2d');\r\n            \r\n            new Chart(ctx, {\r\n                type: 'line',\r\n                data: {\r\n                    labels: fechas,//resultado.map(programa=>programa.nombre),\r\n                    datasets: [{\r\n                    label: '# of Votes',\r\n                    data: cierretotal,//resultado.map(programa=>programa.total),\r\n                    borderColor: '#00c8c2',\r\n                    //backgroundColor: ['#ea580c', '#84cc16', '#22d3ee', '#a855f7'],\r\n                    backgroundColor: '#ea580c',\r\n                    //tension: 0.3,\r\n                    //stepped: 'middle',\r\n                    }]\r\n                },\r\n                options: {\r\n                    scales: {\r\n                        y: {\r\n                            beginAtZero: true\r\n                        }\r\n                    },\r\n                    plugins: {legend: {display: false } } //elimina el label del dataset\r\n                }\r\n            });\r\n        }\r\n\r\n\r\n        function animacioncircle(){\r\n            const circle = document.querySelector('circle');\r\n            circle.style.strokeDashoffset = 440-progreso;\r\n            circle.classList.add('animacion');\r\n\r\n            const dailyearning = document.querySelector('.dailyearning').textContent = '$'+valorcitas;\r\n            const numero = document.querySelector('.rueda .numero');\r\n            numero.textContent = Math.round(citas100)+'%';\r\n        }\r\n        \r\n\r\n    } //cierre del if\r\n})();","(function(){\r\n\r\n    if(document.querySelector('.pagina2malla')){\r\n        const selectemployee = document.querySelector('#selectempleadomalla');\r\n        let malla;\r\n\r\n        (async ()=>{\r\n            try {\r\n                const url = \"/admin/api/getmalla\"; //llamado a la API REST para trer toda la malla de todos los empleados\r\n                const respuesta = await fetch(url); \r\n                malla = await respuesta.json();    \r\n            } catch (error) {\r\n                console.log(error);\r\n            }\r\n        })();\r\n\r\n        selectemployee.addEventListener('change', (e)=>{\r\n            const turnosemployee = malla['empleado_'+e.target.value]; //arreglo de obj donde cada obj es el dia con su turno\r\n            limpiarmalla(); //limpiar malla previamente\r\n            if(turnosemployee)\r\n                turnosemployee.forEach(dia => {\r\n                    const {inicioturno, inidescanso, findescanso, finturno} = dia;\r\n                    let horas = new Array(inicioturno, inidescanso, findescanso, finturno);\r\n                    const radio = document.querySelector(`input[data-id=\"${dia.id_dia}\"]`);\r\n                    radio.checked = true;\r\n                    for(let i=0; i<4; i++)radio.parentElement.nextElementSibling.children[i].disabled = false;\r\n\r\n                    document.querySelector(`#entrada[data-id=\"${dia.id_dia}\"]`).value = inicioturno.substring(0,2)+':'+inicioturno.substring(2,4);\r\n                    let select = document.querySelector(`#inidescanso[data-id=\"${dia.id_dia}\"]`);\r\n                    \r\n                    for(let i = 0; i<3; i++){\r\n                        putoptions(select, parseInt(horas[i])); //llenar las options de los input select\r\n                        for(let j = 0; j<select.options.length; j++)\r\n                            if(select.options[j].value == parseInt(horas[i+1]))select.options[j].selected = true;\r\n                        select = select.nextElementSibling;\r\n                    }\r\n                });  \r\n        });\r\n\r\n        function putoptions(select, hora){\r\n            for(let i = 0; hora<2300; i++){\r\n                let option = document.createElement('OPTION');\r\n                hora+=30;\r\n                if(hora%100 == 60)hora+=40;\r\n                option.value = hora;\r\n                option.textContent = (hora%100==0)?parseInt(hora/100)+':00':parseInt(hora/100)+':'+hora%100;\r\n                select.appendChild(option);\r\n            }\r\n        }\r\n\r\n        function limpiarmalla(){\r\n            const elemntcheckbox = document.querySelectorAll('.malla INPUT[type=\"checkbox\"]');\r\n            elemntcheckbox.forEach(Element => {\r\n                if(Element.checked){ Element.checked = false;\r\n                    for(let i=0; i<4; i++){\r\n                        Element.parentElement.nextElementSibling.children[i].disabled = true;\r\n                        if(i===0){\r\n                            Element.parentElement.nextElementSibling.children[0].value = '';\r\n                        }else{\r\n                            Element.parentElement.nextElementSibling.children[i].options[0].selected = true;\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }  \r\n        \r\n    }\r\n})();","(function(){\r\n    if(document.querySelector('.headerapp__menu')){\r\n        const btnmenu = document.querySelector('#btnmenu');\r\n        const navmenu = document.querySelector('.headerapp__navmenu');\r\n        btnmenu.addEventListener('click', ()=>{\r\n            navmenu.classList.toggle('mostrar');\r\n        });\r\n    }\r\n\r\n})();","(function(){\r\n    \r\n    const servicios = document.querySelectorAll('#servicio');\r\n    const servicios__eliminar = document.querySelectorAll('.servicios__eliminar'); //<a></a>\r\n    \r\n    servicios__eliminar.forEach(Element=>{ //para eliminar los servicios\r\n        Element.addEventListener('click', (e)=>{\r\n\r\n            let id;\r\n           e.target.href = \"/admin/servicios/eliminar\";\r\n           e.preventDefault();\r\n         \r\n           if(e.target.tagName === \"I\"){ \r\n               id = e.target.parentElement.parentElement.dataset.id;   \r\n            }else{\r\n                id = e.target.parentElement.dataset.id;\r\n            }\r\n            //window.location = e.target.href;\r\n            Swal.fire({\r\n                customClass: {\r\n                    confirmButton: 'sweetbtnconfirm',\r\n                    cancelButton: 'sweetbtncancel'\r\n                },\r\n                title: 'Desea eliminar el servcio?',\r\n                showCancelButton: true,\r\n                confirmButtonText: 'Si',\r\n                cancelButtonText: 'No',\r\n                \r\n            }).then((result) => {\r\n                if (result.isConfirmed) {\r\n                    Swal.fire('Eliminado', '', 'success') \r\n\r\n                    \r\n                    async function eliminarservicio(){ //\r\n                        const datos = new FormData();\r\n                        console.log(id);\r\n                        datos.append('id', id);\r\n                        try {\r\n                            const url = \"/admin/api/eliminarservicio\";\r\n                            const respuesta = await fetch(url, {method: 'POST', body: datos}); \r\n                            const resultado = await respuesta.json(); \r\n                            console.log(resultado); \r\n\r\n                            const divservicio = document.querySelector(`div[data-id=\"${id}\"]`);\r\n                            divservicio.remove();\r\n                            return resultado;\r\n                        } catch (error) {\r\n                            console.log(error);\r\n                        }\r\n                    }\r\n\r\n                    eliminarservicio();\r\n                } \r\n            })\r\n    \r\n        });\r\n    });\r\n\r\n    \r\n    servicios.forEach(Element =>{   // para editar los servicios\r\n        Element.addEventListener('click', (e)=>{\r\n            \r\n            if(e.target.tagName === \"DIV\" ||e.target.tagName === \"P\"|| e.target.tagName === \"H4\" || e.target.tagName === \"SPAN\"){\r\n    \r\n                let nombre, precio, duracion, id;\r\n                \r\n                id = id = e.target.dataset.id;;\r\n                if(e.target.tagName === \"P\"|| e.target.tagName === \"H4\")id = e.target.parentElement.dataset.id;\r\n                if(e.target.tagName === \"SPAN\")id = e.target.parentElement.parentElement.dataset.id;\r\n\r\n                nombre = document.querySelector(`div[data-id=\"${id}\"] h4`).textContent;\r\n                precio = parseInt(document.querySelector(`div[data-id=\"${id}\"] #precio`).textContent);\r\n                duracion = parseInt(document.querySelector(`div[data-id=\"${id}\"] #duracion`).textContent);\r\n\r\n                Swal.fire({\r\n                    customClass: {\r\n                        confirmButton: 'sweetbtnconfirm',\r\n                        cancelButton: 'sweetbtncancel'\r\n                    },\r\n                    title: 'Desea editar el servcio?',\r\n                    html: `<form class=\"formulario\" action=\"/admin/servicios/editar\" method=\"POST\">\r\n                                <input type=\"hidden\" name=\"id\" value=\"${id}\" >\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"nombre\">Nombre:</label>\r\n                                    <div class=\"formulario__dato\">\r\n                                        <input class=\"formulario__input\" type=\"text\" placeholder=\"Nombre del servicio\" id=\"nombre\" name=\"nombre\" value=\"${nombre}\" required>\r\n                                        <label data-num=\"25\" class=\"count-charts\" for=\"\">25</label>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"precio\">Precio:</label>\r\n                                    <div class=\"formulario__dato\">\r\n                                        <input class=\"formulario__input\" type=\"number\" placeholder=\"Precio del servicio\" id=\"precio\" name=\"precio\" value=\"${precio}\" requiered>\r\n                                        <label for=\"\">$</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"formulario__campo\">\r\n                                    <label class=\"formulario__label\" for=\"duracion\">Duracion:</label>\r\n                                    <div class=\"formulario__dato\">\r\n                                        <input class=\"formulario__input\" type=\"number\" min=\"10\" max=\"120\" placeholder=\"Duracion en minutos del servicio\" id=\"duracion\" name=\"duracion\" value=\"${duracion}\" disabled>\r\n                                        <label for=\"\">min</label>\r\n                                    </div>\r\n                                </div>\r\n                                <input class=\"formulario__submit--servicio\" type=\"submit\" value=\"Actualizar\">\r\n                           </form>`,\r\n                    showCancelButton: true,\r\n                    showConfirmButton: false,\r\n                    cancelButtonText: 'Cancelar',\r\n                    \r\n                });\r\n                countchars();\r\n            } //cierre del if   \r\n        }); //cierre de addeventlistener\r\n    }); //cierre del foreach\r\n\r\n    \r\n    //////////////// funcion contadores de caracteres /////////////////////\r\n    countchars();      //// se aplicado casi de manera general\r\n    function countchars(){\r\n        const numinput = document.querySelectorAll('.count-charts');  \r\n        numinput.forEach(element =>{ //element es cada label\r\n            element.textContent = element.dataset.num-element.previousElementSibling.value.length;\r\n            element.previousElementSibling.addEventListener('input', (e)=>{ //seleccionamos el input o el textarea en donde se escribe y se le da el evento de teclas\r\n                element.textContent = element.dataset.num-e.target.value.length;\r\n                  \r\n                if(element.dataset.num-e.target.value.length <= 0){\r\n                    let cadena = e.target.value.slice(0, element.dataset.num);\r\n                    e.target.value = cadena;\r\n                    element.textContent = 0;\r\n                }\r\n            });\r\n        });\r\n    }\r\n     \r\n    if(document.querySelector('.alerta')){  //se aplica de manera global\r\n        setTimeout(() => {\r\n            document.querySelector('.alerta').remove();\r\n        }, 5000);\r\n    }\r\n    \r\n    })();","console.log('swiper@10');\r\n"]}